import"./editor.api-_A1huWdg.js";import{_ as Kn}from"./index-B6WbZO8q.js";import{S as Xn}from"./sortable.esm-C83syoBY.js";import{r as de,h as Fn,z as Gn,B as qn,R as Qn,al as Jn,A as Hn}from"./vue-CdYMfVVj.js";import"./element-GwJlJi_X.js";import"./editor-Dhn2M38E.js";var Ht={exports:{}},Zn=Ht.exports,Ze;function Yn(){return Ze||(Ze=1,function(r,a){(function(s,i){r.exports=i()})(Zn,function(){var s;(function(t){t[t.ELEMENT_NODE=1]="ELEMENT_NODE",t[t.TEXT_NODE=3]="TEXT_NODE"})(s||(s={}));function i(t,e){return t.hasOwnProperty(e)}function l(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=Math.random()*16|0,n=t=="x"?e:e&3|8;return n.toString(16)})}function o(t,e=[],n=!1){var _,u;let p=[],b=t.childNodes;for(let D=0;D<b.length;D++){let S=b[D];S.ignore=n;const B=f(S);e.length>0&&B.length>0&&e.some(F=>B.includes(F))&&(S.ignore=!0),S.nodeType===s.TEXT_NODE&&((_=S.parentElement)===null||_===void 0?void 0:_.nodeName)!=="SCRIPT"&&((u=S.textContent)===null||u===void 0?void 0:u.trim())!==""?S.textContent&&S.textContent!==`
`&&p.push(S):S.nodeType===s.ELEMENT_NODE&&p.push(...o(S,e,S.ignore))}return p}function f(t){let e=[];if(t.nodeType===s.ELEMENT_NODE){const n=t;e=n.className?n.className.split(" "):[]}return e}function w(t,e){let n=t.offsetParent,_=t.offsetTop,u=t.offsetLeft;for(;n!==e&&n!==null;)_+=n.offsetTop,u+=n.offsetLeft,n=n.offsetParent;return{top:_,left:u}}var m={beautify:!0,isCover:!0,ignoreClass:[]};function L(t,e){for(let n in t)i(e,n)&&(t[n]=e[n]);return t}function C(t,e){return e={exports:{}},t(e,e.exports),e.exports}function k(t){this.__parent=t,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}k.prototype.clone_empty=function(){var t=new k(this.__parent);return t.set_indent(this.__indent_count,this.__alignment_count),t},k.prototype.item=function(t){return t<0?this.__items[this.__items.length+t]:this.__items[t]},k.prototype.has_match=function(t){for(var e=this.__items.length-1;e>=0;e--)if(this.__items[e].match(t))return!0;return!1},k.prototype.set_indent=function(t,e){this.is_empty()&&(this.__indent_count=t||0,this.__alignment_count=e||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))},k.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)},k.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count},k.prototype._allow_wrap=function(){if(this._should_wrap()){this.__parent.add_new_line();var t=this.__parent.current_line;return t.set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),t.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),t.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count,t.__items[0]===" "&&(t.__items.splice(0,1),t.__character_count-=1),!0}return!1},k.prototype.is_empty=function(){return this.__items.length===0},k.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]},k.prototype.push=function(t){this.__items.push(t);var e=t.lastIndexOf(`
`);e!==-1?this.__character_count=t.length-e:this.__character_count+=t.length},k.prototype.pop=function(){var t=null;return this.is_empty()||(t=this.__items.pop(),this.__character_count-=t.length),t},k.prototype._remove_indent=function(){this.__indent_count>0&&(this.__indent_count-=1,this.__character_count-=this.__parent.indent_size)},k.prototype._remove_wrap_indent=function(){this.__wrap_point_indent_count>0&&(this.__wrap_point_indent_count-=1)},k.prototype.trim=function(){for(;this.last()===" ";)this.__items.pop(),this.__character_count-=1},k.prototype.toString=function(){var t="";return this.is_empty()?this.__parent.indent_empty_lines&&(t=this.__parent.get_indent_string(this.__indent_count)):(t=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),t+=this.__items.join("")),t};function K(t,e){this.__cache=[""],this.__indent_size=t.indent_size,this.__indent_string=t.indent_char,t.indent_with_tabs||(this.__indent_string=new Array(t.indent_size+1).join(t.indent_char)),e=e||"",t.indent_level>0&&(e=new Array(t.indent_level+1).join(this.__indent_string)),this.__base_string=e,this.__base_string_length=e.length}K.prototype.get_indent_size=function(t,e){var n=this.__base_string_length;return e=e||0,t<0&&(n=0),n+=t*this.__indent_size,n+=e,n},K.prototype.get_indent_string=function(t,e){var n=this.__base_string;return e=e||0,t<0&&(t=0,n=""),e+=t*this.__indent_size,this.__ensure_cache(e),n+=this.__cache[e],n},K.prototype.__ensure_cache=function(t){for(;t>=this.__cache.length;)this.__add_column()},K.prototype.__add_column=function(){var t=this.__cache.length,e=0,n="";this.__indent_size&&t>=this.__indent_size&&(e=Math.floor(t/this.__indent_size),t-=e*this.__indent_size,n=new Array(e+1).join(this.__indent_string)),t&&(n+=new Array(t+1).join(" ")),this.__cache.push(n)};function d(t,e){this.__indent_cache=new K(t,e),this.raw=!1,this._end_with_newline=t.end_with_newline,this.indent_size=t.indent_size,this.wrap_line_length=t.wrap_line_length,this.indent_empty_lines=t.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new k(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}d.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)},d.prototype.get_line_number=function(){return this.__lines.length},d.prototype.get_indent_string=function(t,e){return this.__indent_cache.get_indent_string(t,e)},d.prototype.get_indent_size=function(t,e){return this.__indent_cache.get_indent_size(t,e)},d.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()},d.prototype.add_new_line=function(t){return this.is_empty()||!t&&this.just_added_newline()?!1:(this.raw||this.__add_outputline(),!0)},d.prototype.get_code=function(t){this.trim(!0);var e=this.current_line.pop();e&&(e[e.length-1]===`
`&&(e=e.replace(/\n+$/g,"")),this.current_line.push(e)),this._end_with_newline&&this.__add_outputline();var n=this.__lines.join(`
`);return t!==`
`&&(n=n.replace(/[\n]/g,t)),n},d.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()},d.prototype.set_indent=function(t,e){return t=t||0,e=e||0,this.next_line.set_indent(t,e),this.__lines.length>1?(this.current_line.set_indent(t,e),!0):(this.current_line.set_indent(),!1)},d.prototype.add_raw_token=function(t){for(var e=0;e<t.newlines;e++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(t.whitespace_before),this.current_line.push(t.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1},d.prototype.add_token=function(t){this.__add_space_before_token(),this.current_line.push(t),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()},d.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))},d.prototype.remove_indent=function(t){for(var e=this.__lines.length;t<e;)this.__lines[t]._remove_indent(),t++;this.current_line._remove_wrap_indent()},d.prototype.trim=function(t){for(t=t===void 0?!1:t,this.current_line.trim();t&&this.__lines.length>1&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=this.__lines.length>1?this.__lines[this.__lines.length-2]:null},d.prototype.just_added_newline=function(){return this.current_line.is_empty()},d.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()},d.prototype.ensure_empty_line_above=function(t,e){for(var n=this.__lines.length-2;n>=0;){var _=this.__lines[n];if(_.is_empty())break;if(_.item(0).indexOf(t)!==0&&_.item(-1)!==e){this.__lines.splice(n+1,0,new k(this)),this.previous_line=this.__lines[this.__lines.length-2];break}n--}};var g=d,T={Output:g};function E(t,e,n,_){this.type=t,this.text=e,this.comments_before=null,this.newlines=n||0,this.whitespace_before=_||"",this.parent=null,this.next=null,this.previous=null,this.opened=null,this.closed=null,this.directives=null}var R=E,j={Token:R},O=C(function(t,e){var n="\\x23\\x24\\x40\\x41-\\x5a\\x5f\\x61-\\x7a",_="\\x24\\x30-\\x39\\x41-\\x5a\\x5f\\x61-\\x7a",u="\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05d0-\\u05ea\\u05f0-\\u05f2\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u08a0\\u08a2-\\u08ac\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097f\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c33\\u0c35-\\u0c39\\u0c3d\\u0c58\\u0c59\\u0c60\\u0c61\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d60\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32\\u0e33\\u0e40-\\u0e46\\u0e81\\u0e82\\u0e84\\u0e87\\u0e88\\u0e8a\\u0e8d\\u0e94-\\u0e97\\u0e99-\\u0e9f\\u0ea1-\\u0ea3\\u0ea5\\u0ea7\\u0eaa\\u0eab\\u0ead-\\u0eb0\\u0eb2\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0edc-\\u0edf\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u1000-\\u102a\\u103f\\u1050-\\u1055\\u105a-\\u105d\\u1061\\u1065\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f4\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f0\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u1820-\\u1877\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191c\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19c1-\\u19c7\\u1a00-\\u1a16\\u1a20-\\u1a54\\u1aa7\\u1b05-\\u1b33\\u1b45-\\u1b4b\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bba-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1ce9-\\u1cec\\u1cee-\\u1cf1\\u1cf5\\u1cf6\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2119-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u212d\\u212f-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2ce4\\u2ceb-\\u2cee\\u2cf2\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u2e2f\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303c\\u3041-\\u3096\\u309d-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312d\\u3131-\\u318e\\u31a0-\\u31ba\\u31f0-\\u31ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\ua000-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua697\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua78e\\ua790-\\ua793\\ua7a0-\\ua7aa\\ua7f8-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa60-\\uaa76\\uaa7a\\uaa80-\\uaaaf\\uaab1\\uaab5\\uaab6\\uaab9-\\uaabd\\uaac0\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaea\\uaaf2-\\uaaf4\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uabc0-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc",p="\\u0300-\\u036f\\u0483-\\u0487\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u0620-\\u0649\\u0672-\\u06d3\\u06e7-\\u06e8\\u06fb-\\u06fc\\u0730-\\u074a\\u0800-\\u0814\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0840-\\u0857\\u08e4-\\u08fe\\u0900-\\u0903\\u093a-\\u093c\\u093e-\\u094f\\u0951-\\u0957\\u0962-\\u0963\\u0966-\\u096f\\u0981-\\u0983\\u09bc\\u09be-\\u09c4\\u09c7\\u09c8\\u09d7\\u09df-\\u09e0\\u0a01-\\u0a03\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a66-\\u0a71\\u0a75\\u0a81-\\u0a83\\u0abc\\u0abe-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ae2-\\u0ae3\\u0ae6-\\u0aef\\u0b01-\\u0b03\\u0b3c\\u0b3e-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b56\\u0b57\\u0b5f-\\u0b60\\u0b66-\\u0b6f\\u0b82\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd7\\u0be6-\\u0bef\\u0c01-\\u0c03\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62-\\u0c63\\u0c66-\\u0c6f\\u0c82\\u0c83\\u0cbc\\u0cbe-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0ce2-\\u0ce3\\u0ce6-\\u0cef\\u0d02\\u0d03\\u0d46-\\u0d48\\u0d57\\u0d62-\\u0d63\\u0d66-\\u0d6f\\u0d82\\u0d83\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0df2\\u0df3\\u0e34-\\u0e3a\\u0e40-\\u0e45\\u0e50-\\u0e59\\u0eb4-\\u0eb9\\u0ec8-\\u0ecd\\u0ed0-\\u0ed9\\u0f18\\u0f19\\u0f20-\\u0f29\\u0f35\\u0f37\\u0f39\\u0f41-\\u0f47\\u0f71-\\u0f84\\u0f86-\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u1000-\\u1029\\u1040-\\u1049\\u1067-\\u106d\\u1071-\\u1074\\u1082-\\u108d\\u108f-\\u109d\\u135d-\\u135f\\u170e-\\u1710\\u1720-\\u1730\\u1740-\\u1750\\u1772\\u1773\\u1780-\\u17b2\\u17dd\\u17e0-\\u17e9\\u180b-\\u180d\\u1810-\\u1819\\u1920-\\u192b\\u1930-\\u193b\\u1951-\\u196d\\u19b0-\\u19c0\\u19c8-\\u19c9\\u19d0-\\u19d9\\u1a00-\\u1a15\\u1a20-\\u1a53\\u1a60-\\u1a7c\\u1a7f-\\u1a89\\u1a90-\\u1a99\\u1b46-\\u1b4b\\u1b50-\\u1b59\\u1b6b-\\u1b73\\u1bb0-\\u1bb9\\u1be6-\\u1bf3\\u1c00-\\u1c22\\u1c40-\\u1c49\\u1c5b-\\u1c7d\\u1cd0-\\u1cd2\\u1d00-\\u1dbe\\u1e01-\\u1f15\\u200c\\u200d\\u203f\\u2040\\u2054\\u20d0-\\u20dc\\u20e1\\u20e5-\\u20f0\\u2d81-\\u2d96\\u2de0-\\u2dff\\u3021-\\u3028\\u3099\\u309a\\ua640-\\ua66d\\ua674-\\ua67d\\ua69f\\ua6f0-\\ua6f1\\ua7f8-\\ua800\\ua806\\ua80b\\ua823-\\ua827\\ua880-\\ua881\\ua8b4-\\ua8c4\\ua8d0-\\ua8d9\\ua8f3-\\ua8f7\\ua900-\\ua909\\ua926-\\ua92d\\ua930-\\ua945\\ua980-\\ua983\\ua9b3-\\ua9c0\\uaa00-\\uaa27\\uaa40-\\uaa41\\uaa4c-\\uaa4d\\uaa50-\\uaa59\\uaa7b\\uaae0-\\uaae9\\uaaf2-\\uaaf3\\uabc0-\\uabe1\\uabec\\uabed\\uabf0-\\uabf9\\ufb20-\\ufb28\\ufe00-\\ufe0f\\ufe20-\\ufe26\\ufe33\\ufe34\\ufe4d-\\ufe4f\\uff10-\\uff19\\uff3f",b="(?:\\\\u[0-9a-fA-F]{4}|["+n+u+"])",D="(?:\\\\u[0-9a-fA-F]{4}|["+_+u+p+"])*";e.identifier=new RegExp(b+D,"g"),e.identifierStart=new RegExp(b),e.identifierMatch=new RegExp("(?:\\\\u[0-9a-fA-F]{4}|["+_+u+p+"])+"),e.newline=/[\n\r\u2028\u2029]/,e.lineBreak=new RegExp(`\r
|`+e.newline.source),e.allLineBreaks=new RegExp(e.lineBreak.source,"g")});O.identifier,O.identifierStart,O.identifierMatch,O.newline,O.lineBreak,O.allLineBreaks;function x(t,e){this.raw_options=I(t,e),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs",this.indent_char==="	"),this.indent_with_tabs&&(this.indent_char="	",this.indent_size===1&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","django","erb","handlebars","php","smarty"],["auto"])}x.prototype._get_array=function(t,e){var n=this.raw_options[t],_=e||[];return typeof n=="object"?n!==null&&typeof n.concat=="function"&&(_=n.concat()):typeof n=="string"&&(_=n.split(/[^a-zA-Z0-9_\/\-]+/)),_},x.prototype._get_boolean=function(t,e){var n=this.raw_options[t],_=n===void 0?!!e:!!n;return _},x.prototype._get_characters=function(t,e){var n=this.raw_options[t],_=e||"";return typeof n=="string"&&(_=n.replace(/\\r/,"\r").replace(/\\n/,`
`).replace(/\\t/,"	")),_},x.prototype._get_number=function(t,e){var n=this.raw_options[t];e=parseInt(e,10),isNaN(e)&&(e=0);var _=parseInt(n,10);return isNaN(_)&&(_=e),_},x.prototype._get_selection=function(t,e,n){var _=this._get_selection_list(t,e,n);if(_.length!==1)throw new Error("Invalid Option Value: The option '"+t+`' can only be one of the following values:
`+e+`
You passed in: '`+this.raw_options[t]+"'");return _[0]},x.prototype._get_selection_list=function(t,e,n){if(!e||e.length===0)throw new Error("Selection list cannot be empty.");if(n=n||[e[0]],!this._is_valid_selection(n,e))throw new Error("Invalid Default Value!");var _=this._get_array(t,n);if(!this._is_valid_selection(_,e))throw new Error("Invalid Option Value: The option '"+t+`' can contain only the following values:
`+e+`
You passed in: '`+this.raw_options[t]+"'");return _},x.prototype._is_valid_selection=function(t,e){return t.length&&e.length&&!t.some(function(n){return e.indexOf(n)===-1})};function I(t,e){var n={};t=z(t);var _;for(_ in t)_!==e&&(n[_]=t[_]);if(e&&t[e])for(_ in t[e])n[_]=t[e][_];return n}function z(t){var e={},n;for(n in t){var _=n.replace(/-/g,"_");e[_]=t[n]}return e}var Z=x,c={Options:Z},v=c.Options,y=["before-newline","after-newline","preserve-newline"];function $(t){v.call(this,t,"js");var e=this.raw_options.brace_style||null;e==="expand-strict"?this.raw_options.brace_style="expand":e==="collapse-preserve-inline"?this.raw_options.brace_style="collapse,preserve-inline":this.raw_options.braces_on_own_line!==void 0&&(this.raw_options.brace_style=this.raw_options.braces_on_own_line?"expand":"collapse");var n=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_preserve_inline=!1,this.brace_style="collapse";for(var _=0;_<n.length;_++)n[_]==="preserve-inline"?this.brace_preserve_inline=!0:this.brace_style=n[_];this.unindent_chained_methods=this._get_boolean("unindent_chained_methods"),this.break_chained_methods=this._get_boolean("break_chained_methods"),this.space_in_paren=this._get_boolean("space_in_paren"),this.space_in_empty_paren=this._get_boolean("space_in_empty_paren"),this.jslint_happy=this._get_boolean("jslint_happy"),this.space_after_anon_function=this._get_boolean("space_after_anon_function"),this.space_after_named_function=this._get_boolean("space_after_named_function"),this.keep_array_indentation=this._get_boolean("keep_array_indentation"),this.space_before_conditional=this._get_boolean("space_before_conditional",!0),this.unescape_strings=this._get_boolean("unescape_strings"),this.e4x=this._get_boolean("e4x"),this.comma_first=this._get_boolean("comma_first"),this.operator_position=this._get_selection("operator_position",y),this.test_output_raw=this._get_boolean("test_output_raw"),this.jslint_happy&&(this.space_after_anon_function=!0)}$.prototype=new v;var q=$,st={Options:q},bt=RegExp.prototype.hasOwnProperty("sticky");function M(t){this.__input=t||"",this.__input_length=this.__input.length,this.__position=0}M.prototype.restart=function(){this.__position=0},M.prototype.back=function(){this.__position>0&&(this.__position-=1)},M.prototype.hasNext=function(){return this.__position<this.__input_length},M.prototype.next=function(){var t=null;return this.hasNext()&&(t=this.__input.charAt(this.__position),this.__position+=1),t},M.prototype.peek=function(t){var e=null;return t=t||0,t+=this.__position,t>=0&&t<this.__input_length&&(e=this.__input.charAt(t)),e},M.prototype.__match=function(t,e){t.lastIndex=e;var n=t.exec(this.__input);return n&&!(bt&&t.sticky)&&n.index!==e&&(n=null),n},M.prototype.test=function(t,e){return e=e||0,e+=this.__position,e>=0&&e<this.__input_length?!!this.__match(t,e):!1},M.prototype.testChar=function(t,e){var n=this.peek(e);return t.lastIndex=0,n!==null&&t.test(n)},M.prototype.match=function(t){var e=this.__match(t,this.__position);return e?this.__position+=e[0].length:e=null,e},M.prototype.read=function(t,e,n){var _="",u;return t&&(u=this.match(t),u&&(_+=u[0])),e&&(u||!t)&&(_+=this.readUntil(e,n)),_},M.prototype.readUntil=function(t,e){var n="",_=this.__position;t.lastIndex=this.__position;var u=t.exec(this.__input);return u?(_=u.index,e&&(_+=u[0].length)):_=this.__input_length,n=this.__input.substring(this.__position,_),this.__position=_,n},M.prototype.readUntilAfter=function(t){return this.readUntil(t,!0)},M.prototype.get_regexp=function(t,e){var n=null,_="g";return e&&bt&&(_="y"),typeof t=="string"&&t!==""?n=new RegExp(t,_):t&&(n=new RegExp(t.source,_)),n},M.prototype.get_literal_regexp=function(t){return RegExp(t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"))},M.prototype.peekUntilAfter=function(t){var e=this.__position,n=this.readUntilAfter(t);return this.__position=e,n},M.prototype.lookBack=function(t){var e=this.__position-1;return e>=t.length&&this.__input.substring(e-t.length,e).toLowerCase()===t};var Tt=M,Et={InputScanner:Tt};function et(t){this.__tokens=[],this.__tokens_length=this.__tokens.length,this.__position=0,this.__parent_token=t}et.prototype.restart=function(){this.__position=0},et.prototype.isEmpty=function(){return this.__tokens_length===0},et.prototype.hasNext=function(){return this.__position<this.__tokens_length},et.prototype.next=function(){var t=null;return this.hasNext()&&(t=this.__tokens[this.__position],this.__position+=1),t},et.prototype.peek=function(t){var e=null;return t=t||0,t+=this.__position,t>=0&&t<this.__tokens_length&&(e=this.__tokens[t]),e},et.prototype.add=function(t){this.__parent_token&&(t.parent=this.__parent_token),this.__tokens.push(t),this.__tokens_length+=1};var J=et,Ot={TokenStream:J};function V(t,e){this._input=t,this._starting_pattern=null,this._match_pattern=null,this._until_pattern=null,this._until_after=!1,e&&(this._starting_pattern=this._input.get_regexp(e._starting_pattern,!0),this._match_pattern=this._input.get_regexp(e._match_pattern,!0),this._until_pattern=this._input.get_regexp(e._until_pattern),this._until_after=e._until_after)}V.prototype.read=function(){var t=this._input.read(this._starting_pattern);return(!this._starting_pattern||t)&&(t+=this._input.read(this._match_pattern,this._until_pattern,this._until_after)),t},V.prototype.read_match=function(){return this._input.match(this._match_pattern)},V.prototype.until_after=function(t){var e=this._create();return e._until_after=!0,e._until_pattern=this._input.get_regexp(t),e._update(),e},V.prototype.until=function(t){var e=this._create();return e._until_after=!1,e._until_pattern=this._input.get_regexp(t),e._update(),e},V.prototype.starting_with=function(t){var e=this._create();return e._starting_pattern=this._input.get_regexp(t,!0),e._update(),e},V.prototype.matching=function(t){var e=this._create();return e._match_pattern=this._input.get_regexp(t,!0),e._update(),e},V.prototype._create=function(){return new V(this._input,this)},V.prototype._update=function(){};var Rt=V,ft={Pattern:Rt},ht=ft.Pattern;function pt(t,e){ht.call(this,t,e),e?this._line_regexp=this._input.get_regexp(e._line_regexp):this.__set_whitespace_patterns("",""),this.newline_count=0,this.whitespace_before_token=""}pt.prototype=new ht,pt.prototype.__set_whitespace_patterns=function(t,e){t+="\\t ",e+="\\n\\r",this._match_pattern=this._input.get_regexp("["+t+e+"]+",!0),this._newline_regexp=this._input.get_regexp("\\r\\n|["+e+"]")},pt.prototype.read=function(){this.newline_count=0,this.whitespace_before_token="";var t=this._input.read(this._match_pattern);if(t===" ")this.whitespace_before_token=" ";else if(t){var e=this.__split(this._newline_regexp,t);this.newline_count=e.length-1,this.whitespace_before_token=e[this.newline_count]}return t},pt.prototype.matching=function(t,e){var n=this._create();return n.__set_whitespace_patterns(t,e),n._update(),n},pt.prototype._create=function(){return new pt(this._input,this)},pt.prototype.__split=function(t,e){t.lastIndex=0;for(var n=0,_=[],u=t.exec(e);u;)_.push(e.substring(n,u.index)),n=u.index+u[0].length,u=t.exec(e);return n<e.length?_.push(e.substring(n,e.length)):_.push(""),_};var ee=pt,jt={WhitespacePattern:ee},ie=Et.InputScanner,at=j.Token,it=Ot.TokenStream,ct=jt.WhitespacePattern,rt={START:"TK_START",RAW:"TK_RAW",EOF:"TK_EOF"},nt=function(t,e){this._input=new ie(t),this._options=e||{},this.__tokens=null,this._patterns={},this._patterns.whitespace=new ct(this._input)};nt.prototype.tokenize=function(){this._input.restart(),this.__tokens=new it,this._reset();for(var t,e=new at(rt.START,""),n=null,_=[],u=new it;e.type!==rt.EOF;){for(t=this._get_next_token(e,n);this._is_comment(t);)u.add(t),t=this._get_next_token(e,n);u.isEmpty()||(t.comments_before=u,u=new it),t.parent=n,this._is_opening(t)?(_.push(n),n=t):n&&this._is_closing(t,n)&&(t.opened=n,n.closed=t,n=_.pop(),t.parent=n),t.previous=e,e.next=t,this.__tokens.add(t),e=t}return this.__tokens},nt.prototype._is_first_token=function(){return this.__tokens.isEmpty()},nt.prototype._reset=function(){},nt.prototype._get_next_token=function(t,e){this._readWhitespace();var n=this._input.read(/.+/g);return n?this._create_token(rt.RAW,n):this._create_token(rt.EOF,"")},nt.prototype._is_comment=function(t){return!1},nt.prototype._is_opening=function(t){return!1},nt.prototype._is_closing=function(t,e){return!1},nt.prototype._create_token=function(t,e){var n=new at(t,e,this._patterns.whitespace.newline_count,this._patterns.whitespace.whitespace_before_token);return n},nt.prototype._readWhitespace=function(){return this._patterns.whitespace.read()};var ci=nt,di=rt,Wt={Tokenizer:ci,TOKEN:di};function ne(t,e){t=typeof t=="string"?t:t.source,e=typeof e=="string"?e:e.source,this.__directives_block_pattern=new RegExp(t+/ beautify( \w+[:]\w+)+ /.source+e,"g"),this.__directive_pattern=/ (\w+)[:](\w+)/g,this.__directives_end_ignore_pattern=new RegExp(t+/\sbeautify\signore:end\s/.source+e,"g")}ne.prototype.get_directives=function(t){if(!t.match(this.__directives_block_pattern))return null;var e={};this.__directive_pattern.lastIndex=0;for(var n=this.__directive_pattern.exec(t);n;)e[n[1]]=n[2],n=this.__directive_pattern.exec(t);return e},ne.prototype.readIgnored=function(t){return t.readUntilAfter(this.__directives_end_ignore_pattern)};var gi=ne,se={Directives:gi},ae=ft.Pattern,re={django:!1,erb:!1,handlebars:!1,php:!1,smarty:!1};function dt(t,e){ae.call(this,t,e),this.__template_pattern=null,this._disabled=Object.assign({},re),this._excluded=Object.assign({},re),e&&(this.__template_pattern=this._input.get_regexp(e.__template_pattern),this._excluded=Object.assign(this._excluded,e._excluded),this._disabled=Object.assign(this._disabled,e._disabled));var n=new ae(t);this.__patterns={handlebars_comment:n.starting_with(/{{!--/).until_after(/--}}/),handlebars_unescaped:n.starting_with(/{{{/).until_after(/}}}/),handlebars:n.starting_with(/{{/).until_after(/}}/),php:n.starting_with(/<\?(?:[= ]|php)/).until_after(/\?>/),erb:n.starting_with(/<%[^%]/).until_after(/[^%]%>/),django:n.starting_with(/{%/).until_after(/%}/),django_value:n.starting_with(/{{/).until_after(/}}/),django_comment:n.starting_with(/{#/).until_after(/#}/),smarty:n.starting_with(/{(?=[^}{\s\n])/).until_after(/[^\s\n]}/),smarty_comment:n.starting_with(/{\*/).until_after(/\*}/),smarty_literal:n.starting_with(/{literal}/).until_after(/{\/literal}/)}}dt.prototype=new ae,dt.prototype._create=function(){return new dt(this._input,this)},dt.prototype._update=function(){this.__set_templated_pattern()},dt.prototype.disable=function(t){var e=this._create();return e._disabled[t]=!0,e._update(),e},dt.prototype.read_options=function(t){var e=this._create();for(var n in re)e._disabled[n]=t.templating.indexOf(n)===-1;return e._update(),e},dt.prototype.exclude=function(t){var e=this._create();return e._excluded[t]=!0,e._update(),e},dt.prototype.read=function(){var t="";this._match_pattern?t=this._input.read(this._starting_pattern):t=this._input.read(this._starting_pattern,this.__template_pattern);for(var e=this._read_template();e;)this._match_pattern?e+=this._input.read(this._match_pattern):e+=this._input.readUntil(this.__template_pattern),t+=e,e=this._read_template();return this._until_after&&(t+=this._input.readUntilAfter(this._until_pattern)),t},dt.prototype.__set_templated_pattern=function(){var t=[];this._disabled.php||t.push(this.__patterns.php._starting_pattern.source),this._disabled.handlebars||t.push(this.__patterns.handlebars._starting_pattern.source),this._disabled.erb||t.push(this.__patterns.erb._starting_pattern.source),this._disabled.django||(t.push(this.__patterns.django._starting_pattern.source),t.push(this.__patterns.django_value._starting_pattern.source),t.push(this.__patterns.django_comment._starting_pattern.source)),this._disabled.smarty||t.push(this.__patterns.smarty._starting_pattern.source),this._until_pattern&&t.push(this._until_pattern.source),this.__template_pattern=this._input.get_regexp("(?:"+t.join("|")+")")},dt.prototype._read_template=function(){var t="",e=this._input.peek();if(e==="<"){var n=this._input.peek(1);!this._disabled.php&&!this._excluded.php&&n==="?"&&(t=t||this.__patterns.php.read()),!this._disabled.erb&&!this._excluded.erb&&n==="%"&&(t=t||this.__patterns.erb.read())}else e==="{"&&(!this._disabled.handlebars&&!this._excluded.handlebars&&(t=t||this.__patterns.handlebars_comment.read(),t=t||this.__patterns.handlebars_unescaped.read(),t=t||this.__patterns.handlebars.read()),this._disabled.django||(!this._excluded.django&&!this._excluded.handlebars&&(t=t||this.__patterns.django_value.read()),this._excluded.django||(t=t||this.__patterns.django_comment.read(),t=t||this.__patterns.django.read())),this._disabled.smarty||this._disabled.django&&this._disabled.handlebars&&(t=t||this.__patterns.smarty_comment.read(),t=t||this.__patterns.smarty_literal.read(),t=t||this.__patterns.smarty.read()));return t};var vi=dt,Ae={TemplatablePattern:vi},mi=Et.InputScanner,Ne=Wt.Tokenizer,Le=Wt.TOKEN,bi=se.Directives,yi=ft.Pattern,wi=Ae.TemplatablePattern;function _e(t,e){return e.indexOf(t)!==-1}var A={START_EXPR:"TK_START_EXPR",END_EXPR:"TK_END_EXPR",START_BLOCK:"TK_START_BLOCK",END_BLOCK:"TK_END_BLOCK",WORD:"TK_WORD",RESERVED:"TK_RESERVED",SEMICOLON:"TK_SEMICOLON",STRING:"TK_STRING",EQUALS:"TK_EQUALS",OPERATOR:"TK_OPERATOR",COMMA:"TK_COMMA",BLOCK_COMMENT:"TK_BLOCK_COMMENT",COMMENT:"TK_COMMENT",DOT:"TK_DOT",UNKNOWN:"TK_UNKNOWN",START:Le.START,EOF:Le.EOF},De=new bi(/\/\*/,/\*\//),xi=/0[xX][0123456789abcdefABCDEF_]*n?|0[oO][01234567_]*n?|0[bB][01_]*n?|\d[\d_]*n|(?:\.\d[\d_]*|\d[\d_]*\.?[\d_]*)(?:[eE][+-]?[\d_]+)?/,Ti=/[0-9]/,Ei=/[^\d\.]/,Oi=">>> === !== << && >= ** != == <= >> || ?? |> < / - + > : & % ? ^ | *".split(" "),Ct=">>>= ... >>= <<= === >>> !== **= => ^= :: /= << <= == && -= >= >> != -- += ** || ?? ++ %= &= *= |= |> = ! ? > < : / ^ - + * & % ~ |";Ct=Ct.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&"),Ct="\\?\\.(?!\\d) "+Ct,Ct=Ct.replace(/ /g,"|");var Ci=new RegExp(Ct),Ie="continue,try,throw,return,var,let,const,if,switch,case,default,for,while,break,function,import,export".split(","),ki=Ie.concat(["do","in","of","else","get","set","new","catch","finally","typeof","yield","async","await","from","as"]),Si=new RegExp("^(?:"+ki.join("|")+")$"),Vt,H=function(t,e){Ne.call(this,t,e),this._patterns.whitespace=this._patterns.whitespace.matching(/\u00A0\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff/.source,/\u2028\u2029/.source);var n=new yi(this._input),_=new wi(this._input).read_options(this._options);this.__patterns={template:_,identifier:_.starting_with(O.identifier).matching(O.identifierMatch),number:n.matching(xi),punct:n.matching(Ci),comment:n.starting_with(/\/\//).until(/[\n\r\u2028\u2029]/),block_comment:n.starting_with(/\/\*/).until_after(/\*\//),html_comment_start:n.matching(/<!--/),html_comment_end:n.matching(/-->/),include:n.starting_with(/#include/).until_after(O.lineBreak),shebang:n.starting_with(/#!/).until_after(O.lineBreak),xml:n.matching(/[\s\S]*?<(\/?)([-a-zA-Z:0-9_.]+|{[\s\S]+?}|!\[CDATA\[[\s\S]*?\]\]|)(\s+{[\s\S]+?}|\s+[-a-zA-Z:0-9_.]+|\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{[\s\S]+?}))*\s*(\/?)\s*>/),single_quote:_.until(/['\\\n\r\u2028\u2029]/),double_quote:_.until(/["\\\n\r\u2028\u2029]/),template_text:_.until(/[`\\$]/),template_expression:_.until(/[`}\\]/)}};H.prototype=new Ne,H.prototype._is_comment=function(t){return t.type===A.COMMENT||t.type===A.BLOCK_COMMENT||t.type===A.UNKNOWN},H.prototype._is_opening=function(t){return t.type===A.START_BLOCK||t.type===A.START_EXPR},H.prototype._is_closing=function(t,e){return(t.type===A.END_BLOCK||t.type===A.END_EXPR)&&e&&(t.text==="]"&&e.text==="["||t.text===")"&&e.text==="("||t.text==="}"&&e.text==="{")},H.prototype._reset=function(){Vt=!1},H.prototype._get_next_token=function(t,e){var n=null;this._readWhitespace();var _=this._input.peek();return _===null?this._create_token(A.EOF,""):(n=n||this._read_non_javascript(_),n=n||this._read_string(_),n=n||this._read_word(t),n=n||this._read_singles(_),n=n||this._read_comment(_),n=n||this._read_regexp(_,t),n=n||this._read_xml(_,t),n=n||this._read_punctuation(),n=n||this._create_token(A.UNKNOWN,this._input.next()),n)},H.prototype._read_word=function(t){var e;if(e=this.__patterns.identifier.read(),e!=="")return e=e.replace(O.allLineBreaks,`
`),!(t.type===A.DOT||t.type===A.RESERVED&&(t.text==="set"||t.text==="get"))&&Si.test(e)?e==="in"||e==="of"?this._create_token(A.OPERATOR,e):this._create_token(A.RESERVED,e):this._create_token(A.WORD,e);if(e=this.__patterns.number.read(),e!=="")return this._create_token(A.WORD,e)},H.prototype._read_singles=function(t){var e=null;return t==="("||t==="["?e=this._create_token(A.START_EXPR,t):t===")"||t==="]"?e=this._create_token(A.END_EXPR,t):t==="{"?e=this._create_token(A.START_BLOCK,t):t==="}"?e=this._create_token(A.END_BLOCK,t):t===";"?e=this._create_token(A.SEMICOLON,t):t==="."&&Ei.test(this._input.peek(1))?e=this._create_token(A.DOT,t):t===","&&(e=this._create_token(A.COMMA,t)),e&&this._input.next(),e},H.prototype._read_punctuation=function(){var t=this.__patterns.punct.read();if(t!=="")return t==="="?this._create_token(A.EQUALS,t):t==="?."?this._create_token(A.DOT,t):this._create_token(A.OPERATOR,t)},H.prototype._read_non_javascript=function(t){var e="";if(t==="#"){if(this._is_first_token()&&(e=this.__patterns.shebang.read(),e))return this._create_token(A.UNKNOWN,e.trim()+`
`);if(e=this.__patterns.include.read(),e)return this._create_token(A.UNKNOWN,e.trim()+`
`);t=this._input.next();var n="#";if(this._input.hasNext()&&this._input.testChar(Ti)){do t=this._input.next(),n+=t;while(this._input.hasNext()&&t!=="#"&&t!=="=");return t==="#"||(this._input.peek()==="["&&this._input.peek(1)==="]"?(n+="[]",this._input.next(),this._input.next()):this._input.peek()==="{"&&this._input.peek(1)==="}"&&(n+="{}",this._input.next(),this._input.next())),this._create_token(A.WORD,n)}this._input.back()}else if(t==="<"&&this._is_first_token()){if(e=this.__patterns.html_comment_start.read(),e){for(;this._input.hasNext()&&!this._input.testChar(O.newline);)e+=this._input.next();return Vt=!0,this._create_token(A.COMMENT,e)}}else if(Vt&&t==="-"&&(e=this.__patterns.html_comment_end.read(),e))return Vt=!1,this._create_token(A.COMMENT,e);return null},H.prototype._read_comment=function(t){var e=null;if(t==="/"){var n="";if(this._input.peek(1)==="*"){n=this.__patterns.block_comment.read();var _=De.get_directives(n);_&&_.ignore==="start"&&(n+=De.readIgnored(this._input)),n=n.replace(O.allLineBreaks,`
`),e=this._create_token(A.BLOCK_COMMENT,n),e.directives=_}else this._input.peek(1)==="/"&&(n=this.__patterns.comment.read(),e=this._create_token(A.COMMENT,n))}return e},H.prototype._read_string=function(t){if(t==="`"||t==="'"||t==='"'){var e=this._input.next();return this.has_char_escapes=!1,t==="`"?e+=this._read_string_recursive("`",!0,"${"):e+=this._read_string_recursive(t),this.has_char_escapes&&this._options.unescape_strings&&(e=Ri(e)),this._input.peek()===t&&(e+=this._input.next()),e=e.replace(O.allLineBreaks,`
`),this._create_token(A.STRING,e)}return null},H.prototype._allow_regexp_or_xml=function(t){return t.type===A.RESERVED&&_e(t.text,["return","case","throw","else","do","typeof","yield"])||t.type===A.END_EXPR&&t.text===")"&&t.opened.previous.type===A.RESERVED&&_e(t.opened.previous.text,["if","while","for"])||_e(t.type,[A.COMMENT,A.START_EXPR,A.START_BLOCK,A.START,A.END_BLOCK,A.OPERATOR,A.EQUALS,A.EOF,A.SEMICOLON,A.COMMA])},H.prototype._read_regexp=function(t,e){if(t==="/"&&this._allow_regexp_or_xml(e)){for(var n=this._input.next(),_=!1,u=!1;this._input.hasNext()&&(_||u||this._input.peek()!==t)&&!this._input.testChar(O.newline);)n+=this._input.peek(),_?_=!1:(_=this._input.peek()==="\\",this._input.peek()==="["?u=!0:this._input.peek()==="]"&&(u=!1)),this._input.next();return this._input.peek()===t&&(n+=this._input.next(),n+=this._input.read(O.identifier)),this._create_token(A.STRING,n)}return null},H.prototype._read_xml=function(t,e){if(this._options.e4x&&t==="<"&&this._allow_regexp_or_xml(e)){var n="",_=this.__patterns.xml.read_match();if(_){for(var u=_[2].replace(/^{\s+/,"{").replace(/\s+}$/,"}"),p=u.indexOf("{")===0,b=0;_;){var D=!!_[1],S=_[2],B=!!_[_.length-1]||S.slice(0,8)==="![CDATA[";if(!B&&(S===u||p&&S.replace(/^{\s+/,"{").replace(/\s+}$/,"}"))&&(D?--b:++b),n+=_[0],b<=0)break;_=this.__patterns.xml.read_match()}return _||(n+=this._input.match(/[\s\S]*/g)[0]),n=n.replace(O.allLineBreaks,`
`),this._create_token(A.STRING,n)}}return null};function Ri(t){for(var e="",n=0,_=new mi(t),u=null;_.hasNext();)if(u=_.match(/([\s]|[^\\]|\\\\)+/g),u&&(e+=u[0]),_.peek()==="\\"){if(_.next(),_.peek()==="x")u=_.match(/x([0-9A-Fa-f]{2})/g);else if(_.peek()==="u")u=_.match(/u([0-9A-Fa-f]{4})/g);else{e+="\\",_.hasNext()&&(e+=_.next());continue}if(!u||(n=parseInt(u[1],16),n>126&&n<=255&&u[0].indexOf("x")===0))return t;if(n>=0&&n<32){e+="\\"+u[0];continue}else n===34||n===39||n===92?e+="\\"+String.fromCharCode(n):e+=String.fromCharCode(n)}return e}H.prototype._read_string_recursive=function(t,e,n){var _,u;t==="'"?u=this.__patterns.single_quote:t==='"'?u=this.__patterns.double_quote:t==="`"?u=this.__patterns.template_text:t==="}"&&(u=this.__patterns.template_expression);for(var p=u.read(),b="";this._input.hasNext();){if(b=this._input.next(),b===t||!e&&O.newline.test(b)){this._input.back();break}else b==="\\"&&this._input.hasNext()?(_=this._input.peek(),_==="x"||_==="u"?this.has_char_escapes=!0:_==="\r"&&this._input.peek(1)===`
`&&this._input.next(),b+=this._input.next()):n&&(n==="${"&&b==="$"&&this._input.peek()==="{"&&(b+=this._input.next()),n===b&&(t==="`"?b+=this._read_string_recursive("}",e,"`"):b+=this._read_string_recursive("`",e,"${"),this._input.hasNext()&&(b+=this._input.next())));b+=u.read(),p+=b}return p};var Ai=H,Ni=A,Li=Oi.slice(),Di=Ie.slice(),Ut={Tokenizer:Ai,TOKEN:Ni,positionable_operators:Li,line_starters:Di},Ii=T.Output,$i=j.Token,Mi=st.Options,Pi=Ut.Tokenizer,At=Ut.line_starters,Nt=Ut.positionable_operators,h=Ut.TOKEN;function P(t,e){return e.indexOf(t)!==-1}function zi(t){return t.replace(/^\s+/g,"")}function Bi(t){for(var e={},n=0;n<t.length;n++)e[t[n].replace(/-/g,"_")]=t[n];return e}function _t(t,e){return t&&t.type===h.RESERVED&&t.text===e}function X(t,e){return t&&t.type===h.RESERVED&&P(t.text,e)}var Kt=["case","return","do","if","throw","else","await","break","continue","async"],ji=["before-newline","after-newline","preserve-newline"],Lt=Bi(ji),$e=[Lt.before_newline,Lt.preserve_newline],N={BlockStatement:"BlockStatement",Statement:"Statement",ObjectLiteral:"ObjectLiteral",ArrayLiteral:"ArrayLiteral",ForInitializer:"ForInitializer",Conditional:"Conditional",Expression:"Expression"};function Me(t,e){e.multiline_frame||e.mode===N.ForInitializer||e.mode===N.Conditional||t.remove_indent(e.start_line_index)}function Wi(t){t=t.replace(O.allLineBreaks,`
`);for(var e=[],n=t.indexOf(`
`);n!==-1;)e.push(t.substring(0,n)),t=t.substring(n+1),n=t.indexOf(`
`);return t.length&&e.push(t),e}function yt(t){return t===N.ArrayLiteral}function Dt(t){return P(t,[N.Expression,N.ForInitializer,N.Conditional])}function Vi(t,e){for(var n=0;n<t.length;n++){var _=t[n].trim();if(_.charAt(0)!==e)return!1}return!0}function Ui(t,e){for(var n=0,_=t.length,u;n<_;n++)if(u=t[n],u&&u.indexOf(e)!==0)return!1;return!0}function W(t,e){e=e||{},this._source_text=t||"",this._output=null,this._tokens=null,this._last_last_text=null,this._flags=null,this._previous_flags=null,this._flag_store=null,this._options=new Mi(e)}W.prototype.create_flags=function(t,e){var n=0;t&&(n=t.indentation_level,!this._output.just_added_newline()&&t.line_indent_level>n&&(n=t.line_indent_level));var _={mode:e,parent:t,last_token:t?t.last_token:new $i(h.START_BLOCK,""),last_word:t?t.last_word:"",declaration_statement:!1,declaration_assignment:!1,multiline_frame:!1,inline_frame:!1,if_block:!1,else_block:!1,do_block:!1,do_while:!1,import_block:!1,in_case_statement:!1,in_case:!1,case_body:!1,indentation_level:n,alignment:0,line_indent_level:t?t.line_indent_level:n,start_line_index:this._output.get_line_number(),ternary_depth:0};return _},W.prototype._reset=function(t){var e=t.match(/^[\t ]*/)[0];this._last_last_text="",this._output=new Ii(this._options,e),this._output.raw=this._options.test_output_raw,this._flag_store=[],this.set_mode(N.BlockStatement);var n=new Pi(t,this._options);return this._tokens=n.tokenize(),t},W.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var t,e=this._reset(this._source_text),n=this._options.eol;this._options.eol==="auto"&&(n=`
`,e&&O.lineBreak.test(e||"")&&(n=e.match(O.lineBreak)[0]));for(var _=this._tokens.next();_;)this.handle_token(_),this._last_last_text=this._flags.last_token.text,this._flags.last_token=_,_=this._tokens.next();return t=this._output.get_code(n),t},W.prototype.handle_token=function(t,e){t.type===h.START_EXPR?this.handle_start_expr(t):t.type===h.END_EXPR?this.handle_end_expr(t):t.type===h.START_BLOCK?this.handle_start_block(t):t.type===h.END_BLOCK?this.handle_end_block(t):t.type===h.WORD?this.handle_word(t):t.type===h.RESERVED?this.handle_word(t):t.type===h.SEMICOLON?this.handle_semicolon(t):t.type===h.STRING?this.handle_string(t):t.type===h.EQUALS?this.handle_equals(t):t.type===h.OPERATOR?this.handle_operator(t):t.type===h.COMMA?this.handle_comma(t):t.type===h.BLOCK_COMMENT?this.handle_block_comment(t,e):t.type===h.COMMENT?this.handle_comment(t,e):t.type===h.DOT?this.handle_dot(t):t.type===h.EOF?this.handle_eof(t):t.type===h.UNKNOWN?this.handle_unknown(t,e):this.handle_unknown(t,e)},W.prototype.handle_whitespace_and_comments=function(t,e){var n=t.newlines,_=this._options.keep_array_indentation&&yt(this._flags.mode);if(t.comments_before)for(var u=t.comments_before.next();u;)this.handle_whitespace_and_comments(u,e),this.handle_token(u,e),u=t.comments_before.next();if(_)for(var p=0;p<n;p+=1)this.print_newline(p>0,e);else if(this._options.max_preserve_newlines&&n>this._options.max_preserve_newlines&&(n=this._options.max_preserve_newlines),this._options.preserve_newlines&&n>1){this.print_newline(!1,e);for(var b=1;b<n;b+=1)this.print_newline(!0,e)}};var ue=["async","break","continue","return","throw","yield"];W.prototype.allow_wrap_or_preserved_newline=function(t,e){if(e=e===void 0?!1:e,!this._output.just_added_newline()){var n=this._options.preserve_newlines&&t.newlines||e,_=P(this._flags.last_token.text,Nt)||P(t.text,Nt);if(_){var u=P(this._flags.last_token.text,Nt)&&P(this._options.operator_position,$e)||P(t.text,Nt);n=n&&u}if(n)this.print_newline(!1,!0);else if(this._options.wrap_line_length){if(X(this._flags.last_token,ue))return;this._output.set_wrap_point()}}},W.prototype.print_newline=function(t,e){if(!e&&this._flags.last_token.text!==";"&&this._flags.last_token.text!==","&&this._flags.last_token.text!=="="&&(this._flags.last_token.type!==h.OPERATOR||this._flags.last_token.text==="--"||this._flags.last_token.text==="++"))for(var n=this._tokens.peek();this._flags.mode===N.Statement&&!(this._flags.if_block&&_t(n,"else"))&&!this._flags.do_block;)this.restore_mode();this._output.add_new_line(t)&&(this._flags.multiline_frame=!0)},W.prototype.print_token_line_indentation=function(t){this._output.just_added_newline()&&(this._options.keep_array_indentation&&t.newlines&&(t.text==="["||yt(this._flags.mode))?(this._output.current_line.set_indent(-1),this._output.current_line.push(t.whitespace_before),this._output.space_before_token=!1):this._output.set_indent(this._flags.indentation_level,this._flags.alignment)&&(this._flags.line_indent_level=this._flags.indentation_level))},W.prototype.print_token=function(t){if(this._output.raw){this._output.add_raw_token(t);return}if(this._options.comma_first&&t.previous&&t.previous.type===h.COMMA&&this._output.just_added_newline()&&this._output.previous_line.last()===","){var e=this._output.previous_line.pop();this._output.previous_line.is_empty()&&(this._output.previous_line.push(e),this._output.trim(!0),this._output.current_line.pop(),this._output.trim()),this.print_token_line_indentation(t),this._output.add_token(","),this._output.space_before_token=!0}this.print_token_line_indentation(t),this._output.non_breaking_space=!0,this._output.add_token(t.text),this._output.previous_token_wrapped&&(this._flags.multiline_frame=!0)},W.prototype.indent=function(){this._flags.indentation_level+=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment)},W.prototype.deindent=function(){this._flags.indentation_level>0&&(!this._flags.parent||this._flags.indentation_level>this._flags.parent.indentation_level)&&(this._flags.indentation_level-=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment))},W.prototype.set_mode=function(t){this._flags?(this._flag_store.push(this._flags),this._previous_flags=this._flags):this._previous_flags=this.create_flags(null,t),this._flags=this.create_flags(this._previous_flags,t),this._output.set_indent(this._flags.indentation_level,this._flags.alignment)},W.prototype.restore_mode=function(){this._flag_store.length>0&&(this._previous_flags=this._flags,this._flags=this._flag_store.pop(),this._previous_flags.mode===N.Statement&&Me(this._output,this._previous_flags),this._output.set_indent(this._flags.indentation_level,this._flags.alignment))},W.prototype.start_of_object_property=function(){return this._flags.parent.mode===N.ObjectLiteral&&this._flags.mode===N.Statement&&(this._flags.last_token.text===":"&&this._flags.ternary_depth===0||X(this._flags.last_token,["get","set"]))},W.prototype.start_of_statement=function(t){var e=!1;return e=e||X(this._flags.last_token,["var","let","const"])&&t.type===h.WORD,e=e||_t(this._flags.last_token,"do"),e=e||!(this._flags.parent.mode===N.ObjectLiteral&&this._flags.mode===N.Statement)&&X(this._flags.last_token,ue)&&!t.newlines,e=e||_t(this._flags.last_token,"else")&&!(_t(t,"if")&&!t.comments_before),e=e||this._flags.last_token.type===h.END_EXPR&&(this._previous_flags.mode===N.ForInitializer||this._previous_flags.mode===N.Conditional),e=e||this._flags.last_token.type===h.WORD&&this._flags.mode===N.BlockStatement&&!this._flags.in_case&&!(t.text==="--"||t.text==="++")&&this._last_last_text!=="function"&&t.type!==h.WORD&&t.type!==h.RESERVED,e=e||this._flags.mode===N.ObjectLiteral&&(this._flags.last_token.text===":"&&this._flags.ternary_depth===0||X(this._flags.last_token,["get","set"])),e?(this.set_mode(N.Statement),this.indent(),this.handle_whitespace_and_comments(t,!0),this.start_of_object_property()||this.allow_wrap_or_preserved_newline(t,X(t,["do","for","if","while"])),!0):!1},W.prototype.handle_start_expr=function(t){this.start_of_statement(t)||this.handle_whitespace_and_comments(t);var e=N.Expression;if(t.text==="["){if(this._flags.last_token.type===h.WORD||this._flags.last_token.text===")"){X(this._flags.last_token,At)&&(this._output.space_before_token=!0),this.print_token(t),this.set_mode(e),this.indent(),this._options.space_in_paren&&(this._output.space_before_token=!0);return}e=N.ArrayLiteral,yt(this._flags.mode)&&(this._flags.last_token.text==="["||this._flags.last_token.text===","&&(this._last_last_text==="]"||this._last_last_text==="}"))&&(this._options.keep_array_indentation||this.print_newline()),P(this._flags.last_token.type,[h.START_EXPR,h.END_EXPR,h.WORD,h.OPERATOR,h.DOT])||(this._output.space_before_token=!0)}else{if(this._flags.last_token.type===h.RESERVED)this._flags.last_token.text==="for"?(this._output.space_before_token=this._options.space_before_conditional,e=N.ForInitializer):P(this._flags.last_token.text,["if","while","switch"])?(this._output.space_before_token=this._options.space_before_conditional,e=N.Conditional):P(this._flags.last_word,["await","async"])?this._output.space_before_token=!0:this._flags.last_token.text==="import"&&t.whitespace_before===""?this._output.space_before_token=!1:(P(this._flags.last_token.text,At)||this._flags.last_token.text==="catch")&&(this._output.space_before_token=!0);else if(this._flags.last_token.type===h.EQUALS||this._flags.last_token.type===h.OPERATOR)this.start_of_object_property()||this.allow_wrap_or_preserved_newline(t);else if(this._flags.last_token.type===h.WORD){this._output.space_before_token=!1;var n=this._tokens.peek(-3);if(this._options.space_after_named_function&&n){var _=this._tokens.peek(-4);X(n,["async","function"])||n.text==="*"&&X(_,["async","function"])?this._output.space_before_token=!0:this._flags.mode===N.ObjectLiteral&&(n.text==="{"||n.text===","||n.text==="*"&&(_.text==="{"||_.text===","))&&(this._output.space_before_token=!0)}}else this.allow_wrap_or_preserved_newline(t);(this._flags.last_token.type===h.RESERVED&&(this._flags.last_word==="function"||this._flags.last_word==="typeof")||this._flags.last_token.text==="*"&&(P(this._last_last_text,["function","yield"])||this._flags.mode===N.ObjectLiteral&&P(this._last_last_text,["{",","])))&&(this._output.space_before_token=this._options.space_after_anon_function)}this._flags.last_token.text===";"||this._flags.last_token.type===h.START_BLOCK?this.print_newline():(this._flags.last_token.type===h.END_EXPR||this._flags.last_token.type===h.START_EXPR||this._flags.last_token.type===h.END_BLOCK||this._flags.last_token.text==="."||this._flags.last_token.type===h.COMMA)&&this.allow_wrap_or_preserved_newline(t,t.newlines),this.print_token(t),this.set_mode(e),this._options.space_in_paren&&(this._output.space_before_token=!0),this.indent()},W.prototype.handle_end_expr=function(t){for(;this._flags.mode===N.Statement;)this.restore_mode();this.handle_whitespace_and_comments(t),this._flags.multiline_frame&&this.allow_wrap_or_preserved_newline(t,t.text==="]"&&yt(this._flags.mode)&&!this._options.keep_array_indentation),this._options.space_in_paren&&(this._flags.last_token.type===h.START_EXPR&&!this._options.space_in_empty_paren?(this._output.trim(),this._output.space_before_token=!1):this._output.space_before_token=!0),this.deindent(),this.print_token(t),this.restore_mode(),Me(this._output,this._previous_flags),this._flags.do_while&&this._previous_flags.mode===N.Conditional&&(this._previous_flags.mode=N.Expression,this._flags.do_block=!1,this._flags.do_while=!1)},W.prototype.handle_start_block=function(t){this.handle_whitespace_and_comments(t);var e=this._tokens.peek(),n=this._tokens.peek(1);this._flags.last_word==="switch"&&this._flags.last_token.type===h.END_EXPR?(this.set_mode(N.BlockStatement),this._flags.in_case_statement=!0):this._flags.case_body?this.set_mode(N.BlockStatement):n&&(P(n.text,[":",","])&&P(e.type,[h.STRING,h.WORD,h.RESERVED])||P(e.text,["get","set","..."])&&P(n.type,[h.WORD,h.RESERVED]))?P(this._last_last_text,["class","interface"])?this.set_mode(N.BlockStatement):this.set_mode(N.ObjectLiteral):this._flags.last_token.type===h.OPERATOR&&this._flags.last_token.text==="=>"?this.set_mode(N.BlockStatement):P(this._flags.last_token.type,[h.EQUALS,h.START_EXPR,h.COMMA,h.OPERATOR])||X(this._flags.last_token,["return","throw","import","default"])?this.set_mode(N.ObjectLiteral):this.set_mode(N.BlockStatement);var _=!e.comments_before&&e.text==="}",u=_&&this._flags.last_word==="function"&&this._flags.last_token.type===h.END_EXPR;if(this._options.brace_preserve_inline){var p=0,b=null;this._flags.inline_frame=!0;do if(p+=1,b=this._tokens.peek(p-1),b.newlines){this._flags.inline_frame=!1;break}while(b.type!==h.EOF&&!(b.type===h.END_BLOCK&&b.opened===t))}(this._options.brace_style==="expand"||this._options.brace_style==="none"&&t.newlines)&&!this._flags.inline_frame?this._flags.last_token.type!==h.OPERATOR&&(u||this._flags.last_token.type===h.EQUALS||X(this._flags.last_token,Kt)&&this._flags.last_token.text!=="else")?this._output.space_before_token=!0:this.print_newline(!1,!0):(yt(this._previous_flags.mode)&&(this._flags.last_token.type===h.START_EXPR||this._flags.last_token.type===h.COMMA)&&((this._flags.last_token.type===h.COMMA||this._options.space_in_paren)&&(this._output.space_before_token=!0),(this._flags.last_token.type===h.COMMA||this._flags.last_token.type===h.START_EXPR&&this._flags.inline_frame)&&(this.allow_wrap_or_preserved_newline(t),this._previous_flags.multiline_frame=this._previous_flags.multiline_frame||this._flags.multiline_frame,this._flags.multiline_frame=!1)),this._flags.last_token.type!==h.OPERATOR&&this._flags.last_token.type!==h.START_EXPR&&(this._flags.last_token.type===h.START_BLOCK&&!this._flags.inline_frame?this.print_newline():this._output.space_before_token=!0)),this.print_token(t),this.indent(),!_&&!(this._options.brace_preserve_inline&&this._flags.inline_frame)&&this.print_newline()},W.prototype.handle_end_block=function(t){for(this.handle_whitespace_and_comments(t);this._flags.mode===N.Statement;)this.restore_mode();var e=this._flags.last_token.type===h.START_BLOCK;this._flags.inline_frame&&!e?this._output.space_before_token=!0:this._options.brace_style==="expand"?e||this.print_newline():e||(yt(this._flags.mode)&&this._options.keep_array_indentation?(this._options.keep_array_indentation=!1,this.print_newline(),this._options.keep_array_indentation=!0):this.print_newline()),this.restore_mode(),this.print_token(t)},W.prototype.handle_word=function(t){if(t.type===h.RESERVED){if(P(t.text,["set","get"])&&this._flags.mode!==N.ObjectLiteral)t.type=h.WORD;else if(t.text==="import"&&this._tokens.peek().text==="(")t.type=h.WORD;else if(P(t.text,["as","from"])&&!this._flags.import_block)t.type=h.WORD;else if(this._flags.mode===N.ObjectLiteral){var e=this._tokens.peek();e.text===":"&&(t.type=h.WORD)}}if(this.start_of_statement(t)?X(this._flags.last_token,["var","let","const"])&&t.type===h.WORD&&(this._flags.declaration_statement=!0):t.newlines&&!Dt(this._flags.mode)&&(this._flags.last_token.type!==h.OPERATOR||this._flags.last_token.text==="--"||this._flags.last_token.text==="++")&&this._flags.last_token.type!==h.EQUALS&&(this._options.preserve_newlines||!X(this._flags.last_token,["var","let","const","set","get"]))?(this.handle_whitespace_and_comments(t),this.print_newline()):this.handle_whitespace_and_comments(t),this._flags.do_block&&!this._flags.do_while)if(_t(t,"while")){this._output.space_before_token=!0,this.print_token(t),this._output.space_before_token=!0,this._flags.do_while=!0;return}else this.print_newline(),this._flags.do_block=!1;if(this._flags.if_block)if(!this._flags.else_block&&_t(t,"else"))this._flags.else_block=!0;else{for(;this._flags.mode===N.Statement;)this.restore_mode();this._flags.if_block=!1,this._flags.else_block=!1}if(this._flags.in_case_statement&&X(t,["case","default"])){this.print_newline(),this._flags.last_token.type!==h.END_BLOCK&&(this._flags.case_body||this._options.jslint_happy)&&this.deindent(),this._flags.case_body=!1,this.print_token(t),this._flags.in_case=!0;return}if((this._flags.last_token.type===h.COMMA||this._flags.last_token.type===h.START_EXPR||this._flags.last_token.type===h.EQUALS||this._flags.last_token.type===h.OPERATOR)&&(this.start_of_object_property()||this.allow_wrap_or_preserved_newline(t)),_t(t,"function")){(P(this._flags.last_token.text,["}",";"])||this._output.just_added_newline()&&!(P(this._flags.last_token.text,["(","[","{",":","=",","])||this._flags.last_token.type===h.OPERATOR))&&!this._output.just_added_blankline()&&!t.comments_before&&(this.print_newline(),this.print_newline(!0)),this._flags.last_token.type===h.RESERVED||this._flags.last_token.type===h.WORD?X(this._flags.last_token,["get","set","new","export"])||X(this._flags.last_token,ue)?this._output.space_before_token=!0:_t(this._flags.last_token,"default")&&this._last_last_text==="export"?this._output.space_before_token=!0:this._flags.last_token.text==="declare"?this._output.space_before_token=!0:this.print_newline():this._flags.last_token.type===h.OPERATOR||this._flags.last_token.text==="="?this._output.space_before_token=!0:!this._flags.multiline_frame&&(Dt(this._flags.mode)||yt(this._flags.mode))||this.print_newline(),this.print_token(t),this._flags.last_word=t.text;return}var n="NONE";if(this._flags.last_token.type===h.END_BLOCK?this._previous_flags.inline_frame?n="SPACE":X(t,["else","catch","finally","from"])?this._options.brace_style==="expand"||this._options.brace_style==="end-expand"||this._options.brace_style==="none"&&t.newlines?n="NEWLINE":(n="SPACE",this._output.space_before_token=!0):n="NEWLINE":this._flags.last_token.type===h.SEMICOLON&&this._flags.mode===N.BlockStatement?n="NEWLINE":this._flags.last_token.type===h.SEMICOLON&&Dt(this._flags.mode)?n="SPACE":this._flags.last_token.type===h.STRING?n="NEWLINE":this._flags.last_token.type===h.RESERVED||this._flags.last_token.type===h.WORD||this._flags.last_token.text==="*"&&(P(this._last_last_text,["function","yield"])||this._flags.mode===N.ObjectLiteral&&P(this._last_last_text,["{",","]))?n="SPACE":this._flags.last_token.type===h.START_BLOCK?this._flags.inline_frame?n="SPACE":n="NEWLINE":this._flags.last_token.type===h.END_EXPR&&(this._output.space_before_token=!0,n="NEWLINE"),X(t,At)&&this._flags.last_token.text!==")"&&(this._flags.inline_frame||this._flags.last_token.text==="else"||this._flags.last_token.text==="export"?n="SPACE":n="NEWLINE"),X(t,["else","catch","finally"]))if((!(this._flags.last_token.type===h.END_BLOCK&&this._previous_flags.mode===N.BlockStatement)||this._options.brace_style==="expand"||this._options.brace_style==="end-expand"||this._options.brace_style==="none"&&t.newlines)&&!this._flags.inline_frame)this.print_newline();else{this._output.trim(!0);var _=this._output.current_line;_.last()!=="}"&&this.print_newline(),this._output.space_before_token=!0}else n==="NEWLINE"?X(this._flags.last_token,Kt)?this._output.space_before_token=!0:this._flags.last_token.text==="declare"&&X(t,["var","let","const"])?this._output.space_before_token=!0:this._flags.last_token.type!==h.END_EXPR?(this._flags.last_token.type!==h.START_EXPR||!X(t,["var","let","const"]))&&this._flags.last_token.text!==":"&&(_t(t,"if")&&_t(t.previous,"else")?this._output.space_before_token=!0:this.print_newline()):X(t,At)&&this._flags.last_token.text!==")"&&this.print_newline():this._flags.multiline_frame&&yt(this._flags.mode)&&this._flags.last_token.text===","&&this._last_last_text==="}"?this.print_newline():n==="SPACE"&&(this._output.space_before_token=!0);t.previous&&(t.previous.type===h.WORD||t.previous.type===h.RESERVED)&&(this._output.space_before_token=!0),this.print_token(t),this._flags.last_word=t.text,t.type===h.RESERVED&&(t.text==="do"?this._flags.do_block=!0:t.text==="if"?this._flags.if_block=!0:t.text==="import"?this._flags.import_block=!0:this._flags.import_block&&_t(t,"from")&&(this._flags.import_block=!1))},W.prototype.handle_semicolon=function(t){this.start_of_statement(t)?this._output.space_before_token=!1:this.handle_whitespace_and_comments(t);for(var e=this._tokens.peek();this._flags.mode===N.Statement&&!(this._flags.if_block&&_t(e,"else"))&&!this._flags.do_block;)this.restore_mode();this._flags.import_block&&(this._flags.import_block=!1),this.print_token(t)},W.prototype.handle_string=function(t){t.text.startsWith("`")&&t.newlines===0&&t.whitespace_before===""&&(t.previous.text===")"||this._flags.last_token.type===h.WORD)||(this.start_of_statement(t)?this._output.space_before_token=!0:(this.handle_whitespace_and_comments(t),this._flags.last_token.type===h.RESERVED||this._flags.last_token.type===h.WORD||this._flags.inline_frame?this._output.space_before_token=!0:this._flags.last_token.type===h.COMMA||this._flags.last_token.type===h.START_EXPR||this._flags.last_token.type===h.EQUALS||this._flags.last_token.type===h.OPERATOR?this.start_of_object_property()||this.allow_wrap_or_preserved_newline(t):t.text.startsWith("`")&&this._flags.last_token.type===h.END_EXPR&&(t.previous.text==="]"||t.previous.text===")")&&t.newlines===0?this._output.space_before_token=!0:this.print_newline())),this.print_token(t)},W.prototype.handle_equals=function(t){this.start_of_statement(t)||this.handle_whitespace_and_comments(t),this._flags.declaration_statement&&(this._flags.declaration_assignment=!0),this._output.space_before_token=!0,this.print_token(t),this._output.space_before_token=!0},W.prototype.handle_comma=function(t){this.handle_whitespace_and_comments(t,!0),this.print_token(t),this._output.space_before_token=!0,this._flags.declaration_statement?(Dt(this._flags.parent.mode)&&(this._flags.declaration_assignment=!1),this._flags.declaration_assignment?(this._flags.declaration_assignment=!1,this.print_newline(!1,!0)):this._options.comma_first&&this.allow_wrap_or_preserved_newline(t)):this._flags.mode===N.ObjectLiteral||this._flags.mode===N.Statement&&this._flags.parent.mode===N.ObjectLiteral?(this._flags.mode===N.Statement&&this.restore_mode(),this._flags.inline_frame||this.print_newline()):this._options.comma_first&&this.allow_wrap_or_preserved_newline(t)},W.prototype.handle_operator=function(t){var e=t.text==="*"&&(X(this._flags.last_token,["function","yield"])||P(this._flags.last_token.type,[h.START_BLOCK,h.COMMA,h.END_BLOCK,h.SEMICOLON])),n=P(t.text,["-","+"])&&(P(this._flags.last_token.type,[h.START_BLOCK,h.START_EXPR,h.EQUALS,h.OPERATOR])||P(this._flags.last_token.text,At)||this._flags.last_token.text===",");if(!this.start_of_statement(t)){var _=!e;this.handle_whitespace_and_comments(t,_)}if(X(this._flags.last_token,Kt)){this._output.space_before_token=!0,this.print_token(t);return}if(t.text==="*"&&this._flags.last_token.type===h.DOT){this.print_token(t);return}if(t.text==="::"){this.print_token(t);return}if(this._flags.last_token.type===h.OPERATOR&&P(this._options.operator_position,$e)&&this.allow_wrap_or_preserved_newline(t),t.text===":"&&this._flags.in_case){this.print_token(t),this._flags.in_case=!1,this._flags.case_body=!0,this._tokens.peek().type!==h.START_BLOCK?(this.indent(),this.print_newline()):this._output.space_before_token=!0;return}var u=!0,p=!0,b=!1;if(t.text===":"?this._flags.ternary_depth===0?u=!1:(this._flags.ternary_depth-=1,b=!0):t.text==="?"&&(this._flags.ternary_depth+=1),!n&&!e&&this._options.preserve_newlines&&P(t.text,Nt)){var D=t.text===":",S=D&&b,B=D&&!b;switch(this._options.operator_position){case Lt.before_newline:this._output.space_before_token=!B,this.print_token(t),(!D||S)&&this.allow_wrap_or_preserved_newline(t),this._output.space_before_token=!0;return;case Lt.after_newline:this._output.space_before_token=!0,!D||S?this._tokens.peek().newlines?this.print_newline(!1,!0):this.allow_wrap_or_preserved_newline(t):this._output.space_before_token=!1,this.print_token(t),this._output.space_before_token=!0;return;case Lt.preserve_newline:B||this.allow_wrap_or_preserved_newline(t),u=!(this._output.just_added_newline()||B),this._output.space_before_token=u,this.print_token(t),this._output.space_before_token=!0;return}}if(e){this.allow_wrap_or_preserved_newline(t),u=!1;var F=this._tokens.peek();p=F&&P(F.type,[h.WORD,h.RESERVED])}else t.text==="..."?(this.allow_wrap_or_preserved_newline(t),u=this._flags.last_token.type===h.START_BLOCK,p=!1):(P(t.text,["--","++","!","~"])||n)&&((this._flags.last_token.type===h.COMMA||this._flags.last_token.type===h.START_EXPR)&&this.allow_wrap_or_preserved_newline(t),u=!1,p=!1,t.newlines&&(t.text==="--"||t.text==="++")&&this.print_newline(!1,!0),this._flags.last_token.text===";"&&Dt(this._flags.mode)&&(u=!0),this._flags.last_token.type===h.RESERVED?u=!0:this._flags.last_token.type===h.END_EXPR?u=!(this._flags.last_token.text==="]"&&(t.text==="--"||t.text==="++")):this._flags.last_token.type===h.OPERATOR&&(u=P(t.text,["--","-","++","+"])&&P(this._flags.last_token.text,["--","-","++","+"]),P(t.text,["+","-"])&&P(this._flags.last_token.text,["--","++"])&&(p=!0)),(this._flags.mode===N.BlockStatement&&!this._flags.inline_frame||this._flags.mode===N.Statement)&&(this._flags.last_token.text==="{"||this._flags.last_token.text===";")&&this.print_newline());this._output.space_before_token=this._output.space_before_token||u,this.print_token(t),this._output.space_before_token=p},W.prototype.handle_block_comment=function(t,e){if(this._output.raw){this._output.add_raw_token(t),t.directives&&t.directives.preserve==="end"&&(this._output.raw=this._options.test_output_raw);return}if(t.directives){this.print_newline(!1,e),this.print_token(t),t.directives.preserve==="start"&&(this._output.raw=!0),this.print_newline(!1,!0);return}if(!O.newline.test(t.text)&&!t.newlines){this._output.space_before_token=!0,this.print_token(t),this._output.space_before_token=!0;return}else this.print_block_commment(t,e)},W.prototype.print_block_commment=function(t,e){var n=Wi(t.text),_,u=!1,p=!1,b=t.whitespace_before,D=b.length;if(this.print_newline(!1,e),this.print_token_line_indentation(t),this._output.add_token(n[0]),this.print_newline(!1,e),n.length>1){for(n=n.slice(1),u=Vi(n,"*"),p=Ui(n,b),u&&(this._flags.alignment=1),_=0;_<n.length;_++)u?(this.print_token_line_indentation(t),this._output.add_token(zi(n[_]))):p&&n[_]?(this.print_token_line_indentation(t),this._output.add_token(n[_].substring(D))):(this._output.current_line.set_indent(-1),this._output.add_token(n[_])),this.print_newline(!1,e);this._flags.alignment=0}},W.prototype.handle_comment=function(t,e){t.newlines?this.print_newline(!1,e):this._output.trim(!0),this._output.space_before_token=!0,this.print_token(t),this.print_newline(!1,e)},W.prototype.handle_dot=function(t){this.start_of_statement(t)||this.handle_whitespace_and_comments(t,!0),X(this._flags.last_token,Kt)?this._output.space_before_token=!1:this.allow_wrap_or_preserved_newline(t,this._flags.last_token.text===")"&&this._options.break_chained_methods),this._options.unindent_chained_methods&&this._output.just_added_newline()&&this.deindent(),this.print_token(t)},W.prototype.handle_unknown=function(t,e){this.print_token(t),t.text[t.text.length-1]===`
`&&this.print_newline(!1,e)},W.prototype.handle_eof=function(t){for(;this._flags.mode===N.Statement;)this.restore_mode();this.handle_whitespace_and_comments(t)};var Ki=W,Xi={Beautifier:Ki},Fi=Xi.Beautifier,Gi=st.Options;function qi(t,e){var n=new Fi(t,e);return n.beautify()}var oe=qi,Qi=function(){return new Gi};oe.defaultOptions=Qi;var Pe=c.Options;function ze(t){Pe.call(this,t,"css"),this.selector_separator_newline=this._get_boolean("selector_separator_newline",!0),this.newline_between_rules=this._get_boolean("newline_between_rules",!0);var e=this._get_boolean("space_around_selector_separator");this.space_around_combinator=this._get_boolean("space_around_combinator")||e;var n=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_style="collapse";for(var _=0;_<n.length;_++)n[_]!=="expand"?this.brace_style="collapse":this.brace_style=n[_]}ze.prototype=new Pe;var Ji=ze,Be={Options:Ji},Hi=Be.Options,Zi=T.Output,Yi=Et.InputScanner,tn=se.Directives,je=new tn(/\/\*/,/\*\//),We=/\r\n|[\r\n]/,en=/\r\n|[\r\n]/g,Xt=/\s/,nn=/(?:\s|\n)+/g,sn=/\/\*(?:[\s\S]*?)((?:\*\/)|$)/g,an=/\/\/(?:[^\n\r\u2028\u2029]*)/g;function mt(t,e){this._source_text=t||"",this._options=new Hi(e),this._ch=null,this._input=null,this.NESTED_AT_RULE={"@page":!0,"@font-face":!0,"@keyframes":!0,"@media":!0,"@supports":!0,"@document":!0},this.CONDITIONAL_GROUP_RULE={"@media":!0,"@supports":!0,"@document":!0}}mt.prototype.eatString=function(t){var e="";for(this._ch=this._input.next();this._ch;){if(e+=this._ch,this._ch==="\\")e+=this._input.next();else if(t.indexOf(this._ch)!==-1||this._ch===`
`)break;this._ch=this._input.next()}return e},mt.prototype.eatWhitespace=function(t){for(var e=Xt.test(this._input.peek()),n=0;Xt.test(this._input.peek());)this._ch=this._input.next(),t&&this._ch===`
`&&(n===0||n<this._options.max_preserve_newlines)&&(n++,this._output.add_new_line(!0));return e},mt.prototype.foundNestedPseudoClass=function(){for(var t=0,e=1,n=this._input.peek(e);n;){if(n==="{")return!0;if(n==="(")t+=1;else if(n===")"){if(t===0)return!1;t-=1}else if(n===";"||n==="}")return!1;e++,n=this._input.peek(e)}return!1},mt.prototype.print_string=function(t){this._output.set_indent(this._indentLevel),this._output.non_breaking_space=!0,this._output.add_token(t)},mt.prototype.preserveSingleSpace=function(t){t&&(this._output.space_before_token=!0)},mt.prototype.indent=function(){this._indentLevel++},mt.prototype.outdent=function(){this._indentLevel>0&&this._indentLevel--},mt.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var t=this._source_text,e=this._options.eol;e==="auto"&&(e=`
`,t&&We.test(t||"")&&(e=t.match(We)[0])),t=t.replace(en,`
`);var n=t.match(/^[\t ]*/)[0];this._output=new Zi(this._options,n),this._input=new Yi(t),this._indentLevel=0,this._nestedLevel=0,this._ch=null;for(var _=0,u=!1,p=!1,b=!1,D=!1,S=!1,B=this._ch,F,gt,Gt;F=this._input.read(nn),gt=F!=="",Gt=B,this._ch=this._input.next(),this._ch==="\\"&&this._input.hasNext()&&(this._ch+=this._input.next()),B=this._ch,this._ch;)if(this._ch==="/"&&this._input.peek()==="*"){this._output.add_new_line(),this._input.back();var St=this._input.read(sn),qt=je.get_directives(St);qt&&qt.ignore==="start"&&(St+=je.readIgnored(this._input)),this.print_string(St),this.eatWhitespace(!0),this._output.add_new_line()}else if(this._ch==="/"&&this._input.peek()==="/")this._output.space_before_token=!0,this._input.back(),this.print_string(this._input.read(an)),this.eatWhitespace(!0);else if(this._ch==="@")if(this.preserveSingleSpace(gt),this._input.peek()==="{")this.print_string(this._ch+this.eatString("}"));else{this.print_string(this._ch);var lt=this._input.peekUntilAfter(/[: ,;{}()[\]\/='"]/g);lt.match(/[ :]$/)&&(lt=this.eatString(": ").replace(/\s$/,""),this.print_string(lt),this._output.space_before_token=!0),lt=lt.replace(/\s$/,""),lt==="extend"?D=!0:lt==="import"&&(S=!0),lt in this.NESTED_AT_RULE?(this._nestedLevel+=1,lt in this.CONDITIONAL_GROUP_RULE&&(b=!0)):!u&&_===0&&lt.indexOf(":")!==-1&&(p=!0,this.indent())}else this._ch==="#"&&this._input.peek()==="{"?(this.preserveSingleSpace(gt),this.print_string(this._ch+this.eatString("}"))):this._ch==="{"?(p&&(p=!1,this.outdent()),b?(b=!1,u=this._indentLevel>=this._nestedLevel):u=this._indentLevel>=this._nestedLevel-1,this._options.newline_between_rules&&u&&this._output.previous_line&&this._output.previous_line.item(-1)!=="{"&&this._output.ensure_empty_line_above("/",","),this._output.space_before_token=!0,this._options.brace_style==="expand"?(this._output.add_new_line(),this.print_string(this._ch),this.indent(),this._output.set_indent(this._indentLevel)):(this.indent(),this.print_string(this._ch)),this.eatWhitespace(!0),this._output.add_new_line()):this._ch==="}"?(this.outdent(),this._output.add_new_line(),Gt==="{"&&this._output.trim(!0),S=!1,D=!1,p&&(this.outdent(),p=!1),this.print_string(this._ch),u=!1,this._nestedLevel&&this._nestedLevel--,this.eatWhitespace(!0),this._output.add_new_line(),this._options.newline_between_rules&&!this._output.just_added_blankline()&&this._input.peek()!=="}"&&this._output.add_new_line(!0)):this._ch===":"?(u||b)&&!(this._input.lookBack("&")||this.foundNestedPseudoClass())&&!this._input.lookBack("(")&&!D&&_===0?(this.print_string(":"),p||(p=!0,this._output.space_before_token=!0,this.eatWhitespace(!0),this.indent())):(this._input.lookBack(" ")&&(this._output.space_before_token=!0),this._input.peek()===":"?(this._ch=this._input.next(),this.print_string("::")):this.print_string(":")):this._ch==='"'||this._ch==="'"?(this.preserveSingleSpace(gt),this.print_string(this._ch+this.eatString(this._ch)),this.eatWhitespace(!0)):this._ch===";"?_===0?(p&&(this.outdent(),p=!1),D=!1,S=!1,this.print_string(this._ch),this.eatWhitespace(!0),this._input.peek()!=="/"&&this._output.add_new_line()):(this.print_string(this._ch),this.eatWhitespace(!0),this._output.space_before_token=!0):this._ch==="("?this._input.lookBack("url")?(this.print_string(this._ch),this.eatWhitespace(),_++,this.indent(),this._ch=this._input.next(),this._ch===")"||this._ch==='"'||this._ch==="'"?this._input.back():this._ch&&(this.print_string(this._ch+this.eatString(")")),_&&(_--,this.outdent()))):(this.preserveSingleSpace(gt),this.print_string(this._ch),this.eatWhitespace(),_++,this.indent()):this._ch===")"?(_&&(_--,this.outdent()),this.print_string(this._ch)):this._ch===","?(this.print_string(this._ch),this.eatWhitespace(!0),this._options.selector_separator_newline&&!p&&_===0&&!S&&!D?this._output.add_new_line():this._output.space_before_token=!0):(this._ch===">"||this._ch==="+"||this._ch==="~")&&!p&&_===0?this._options.space_around_combinator?(this._output.space_before_token=!0,this.print_string(this._ch),this._output.space_before_token=!0):(this.print_string(this._ch),this.eatWhitespace(),this._ch&&Xt.test(this._ch)&&(this._ch="")):this._ch==="]"?this.print_string(this._ch):this._ch==="["?(this.preserveSingleSpace(gt),this.print_string(this._ch)):this._ch==="="?(this.eatWhitespace(),this.print_string("="),Xt.test(this._ch)&&(this._ch="")):this._ch==="!"&&!this._input.lookBack("\\")?(this.print_string(" "),this.print_string(this._ch)):(this.preserveSingleSpace(gt),this.print_string(this._ch));var ce=this._output.get_code(e);return ce};var rn=mt,_n={Beautifier:rn},un=_n.Beautifier,on=Be.Options;function ln(t,e){var n=new un(t,e);return n.beautify()}var le=ln,fn=function(){return new on};le.defaultOptions=fn;var Ve=c.Options;function Ue(t){Ve.call(this,t,"html"),this.templating.length===1&&this.templating[0]==="auto"&&(this.templating=["django","erb","handlebars","php"]),this.indent_inner_html=this._get_boolean("indent_inner_html"),this.indent_body_inner_html=this._get_boolean("indent_body_inner_html",!0),this.indent_head_inner_html=this._get_boolean("indent_head_inner_html",!0),this.indent_handlebars=this._get_boolean("indent_handlebars",!0),this.wrap_attributes=this._get_selection("wrap_attributes",["auto","force","force-aligned","force-expand-multiline","aligned-multiple","preserve","preserve-aligned"]),this.wrap_attributes_indent_size=this._get_number("wrap_attributes_indent_size",this.indent_size),this.extra_liners=this._get_array("extra_liners",["head","body","/html"]),this.inline=this._get_array("inline",["a","abbr","area","audio","b","bdi","bdo","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","i","iframe","img","input","ins","kbd","keygen","label","map","mark","math","meter","noscript","object","output","progress","q","ruby","s","samp","select","small","span","strong","sub","sup","svg","template","textarea","time","u","var","video","wbr","text","acronym","big","strike","tt"]),this.void_elements=this._get_array("void_elements",["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr","!doctype","?xml","basefont","isindex"]),this.unformatted=this._get_array("unformatted",[]),this.content_unformatted=this._get_array("content_unformatted",["pre","textarea"]),this.unformatted_content_delimiter=this._get_characters("unformatted_content_delimiter"),this.indent_scripts=this._get_selection("indent_scripts",["normal","keep","separate"])}Ue.prototype=new Ve;var hn=Ue,Ke={Options:hn},Xe=Wt.Tokenizer,pn=Wt.TOKEN,cn=se.Directives,dn=Ae.TemplatablePattern,gn=ft.Pattern,G={TAG_OPEN:"TK_TAG_OPEN",TAG_CLOSE:"TK_TAG_CLOSE",ATTRIBUTE:"TK_ATTRIBUTE",EQUALS:"TK_EQUALS",VALUE:"TK_VALUE",COMMENT:"TK_COMMENT",TEXT:"TK_TEXT",UNKNOWN:"TK_UNKNOWN",EOF:pn.EOF},Fe=new cn(/<\!--/,/-->/),Y=function(t,e){Xe.call(this,t,e),this._current_tag_name="";var n=new dn(this._input).read_options(this._options),_=new gn(this._input);if(this.__patterns={word:n.until(/[\n\r\t <]/),single_quote:n.until_after(/'/),double_quote:n.until_after(/"/),attribute:n.until(/[\n\r\t =>]|\/>/),element_name:n.until(/[\n\r\t >\/]/),handlebars_comment:_.starting_with(/{{!--/).until_after(/--}}/),handlebars:_.starting_with(/{{/).until_after(/}}/),handlebars_open:_.until(/[\n\r\t }]/),handlebars_raw_close:_.until(/}}/),comment:_.starting_with(/<!--/).until_after(/-->/),cdata:_.starting_with(/<!\[CDATA\[/).until_after(/]]>/),conditional_comment:_.starting_with(/<!\[/).until_after(/]>/),processing:_.starting_with(/<\?/).until_after(/\?>/)},this._options.indent_handlebars&&(this.__patterns.word=this.__patterns.word.exclude("handlebars")),this._unformatted_content_delimiter=null,this._options.unformatted_content_delimiter){var u=this._input.get_literal_regexp(this._options.unformatted_content_delimiter);this.__patterns.unformatted_content_delimiter=_.matching(u).until_after(u)}};Y.prototype=new Xe,Y.prototype._is_comment=function(t){return!1},Y.prototype._is_opening=function(t){return t.type===G.TAG_OPEN},Y.prototype._is_closing=function(t,e){return t.type===G.TAG_CLOSE&&e&&((t.text===">"||t.text==="/>")&&e.text[0]==="<"||t.text==="}}"&&e.text[0]==="{"&&e.text[1]==="{")},Y.prototype._reset=function(){this._current_tag_name=""},Y.prototype._get_next_token=function(t,e){var n=null;this._readWhitespace();var _=this._input.peek();return _===null?this._create_token(G.EOF,""):(n=n||this._read_open_handlebars(_,e),n=n||this._read_attribute(_,t,e),n=n||this._read_close(_,e),n=n||this._read_raw_content(_,t,e),n=n||this._read_content_word(_),n=n||this._read_comment_or_cdata(_),n=n||this._read_processing(_),n=n||this._read_open(_,e),n=n||this._create_token(G.UNKNOWN,this._input.next()),n)},Y.prototype._read_comment_or_cdata=function(t){var e=null,n=null,_=null;if(t==="<"){var u=this._input.peek(1);u==="!"&&(n=this.__patterns.comment.read(),n?(_=Fe.get_directives(n),_&&_.ignore==="start"&&(n+=Fe.readIgnored(this._input))):n=this.__patterns.cdata.read()),n&&(e=this._create_token(G.COMMENT,n),e.directives=_)}return e},Y.prototype._read_processing=function(t){var e=null,n=null,_=null;if(t==="<"){var u=this._input.peek(1);(u==="!"||u==="?")&&(n=this.__patterns.conditional_comment.read(),n=n||this.__patterns.processing.read()),n&&(e=this._create_token(G.COMMENT,n),e.directives=_)}return e},Y.prototype._read_open=function(t,e){var n=null,_=null;return e||t==="<"&&(n=this._input.next(),this._input.peek()==="/"&&(n+=this._input.next()),n+=this.__patterns.element_name.read(),_=this._create_token(G.TAG_OPEN,n)),_},Y.prototype._read_open_handlebars=function(t,e){var n=null,_=null;return e||this._options.indent_handlebars&&t==="{"&&this._input.peek(1)==="{"&&(this._input.peek(2)==="!"?(n=this.__patterns.handlebars_comment.read(),n=n||this.__patterns.handlebars.read(),_=this._create_token(G.COMMENT,n)):(n=this.__patterns.handlebars_open.read(),_=this._create_token(G.TAG_OPEN,n))),_},Y.prototype._read_close=function(t,e){var n=null,_=null;return e&&(e.text[0]==="<"&&(t===">"||t==="/"&&this._input.peek(1)===">")?(n=this._input.next(),t==="/"&&(n+=this._input.next()),_=this._create_token(G.TAG_CLOSE,n)):e.text[0]==="{"&&t==="}"&&this._input.peek(1)==="}"&&(this._input.next(),this._input.next(),_=this._create_token(G.TAG_CLOSE,"}}"))),_},Y.prototype._read_attribute=function(t,e,n){var _=null,u="";if(n&&n.text[0]==="<")if(t==="=")_=this._create_token(G.EQUALS,this._input.next());else if(t==='"'||t==="'"){var p=this._input.next();t==='"'?p+=this.__patterns.double_quote.read():p+=this.__patterns.single_quote.read(),_=this._create_token(G.VALUE,p)}else u=this.__patterns.attribute.read(),u&&(e.type===G.EQUALS?_=this._create_token(G.VALUE,u):_=this._create_token(G.ATTRIBUTE,u));return _},Y.prototype._is_content_unformatted=function(t){return this._options.void_elements.indexOf(t)===-1&&(this._options.content_unformatted.indexOf(t)!==-1||this._options.unformatted.indexOf(t)!==-1)},Y.prototype._read_raw_content=function(t,e,n){var _="";if(n&&n.text[0]==="{")_=this.__patterns.handlebars_raw_close.read();else if(e.type===G.TAG_CLOSE&&e.opened.text[0]==="<"&&e.text[0]!=="/"){var u=e.opened.text.substr(1).toLowerCase();if(u==="script"||u==="style"){var p=this._read_comment_or_cdata(t);if(p)return p.type=G.TEXT,p;_=this._input.readUntil(new RegExp("</"+u+"[\\n\\r\\t ]*?>","ig"))}else this._is_content_unformatted(u)&&(_=this._input.readUntil(new RegExp("</"+u+"[\\n\\r\\t ]*?>","ig")))}return _?this._create_token(G.TEXT,_):null},Y.prototype._read_content_word=function(t){var e="";if(this._options.unformatted_content_delimiter&&t===this._options.unformatted_content_delimiter[0]&&(e=this.__patterns.unformatted_content_delimiter.read()),e||(e=this.__patterns.word.read()),e)return this._create_token(G.TEXT,e)};var vn=Y,mn=G,Ge={Tokenizer:vn,TOKEN:mn},bn=Ke.Options,yn=T.Output,wn=Ge.Tokenizer,U=Ge.TOKEN,qe=/\r\n|[\r\n]/,xn=/\r\n|[\r\n]/g,ut=function(t,e){this.indent_level=0,this.alignment_size=0,this.max_preserve_newlines=t.max_preserve_newlines,this.preserve_newlines=t.preserve_newlines,this._output=new yn(t,e)};ut.prototype.current_line_has_match=function(t){return this._output.current_line.has_match(t)},ut.prototype.set_space_before_token=function(t,e){this._output.space_before_token=t,this._output.non_breaking_space=e},ut.prototype.set_wrap_point=function(){this._output.set_indent(this.indent_level,this.alignment_size),this._output.set_wrap_point()},ut.prototype.add_raw_token=function(t){this._output.add_raw_token(t)},ut.prototype.print_preserved_newlines=function(t){var e=0;t.type!==U.TEXT&&t.previous.type!==U.TEXT&&(e=t.newlines?1:0),this.preserve_newlines&&(e=t.newlines<this.max_preserve_newlines+1?t.newlines:this.max_preserve_newlines+1);for(var n=0;n<e;n++)this.print_newline(n>0);return e!==0},ut.prototype.traverse_whitespace=function(t){return t.whitespace_before||t.newlines?(this.print_preserved_newlines(t)||(this._output.space_before_token=!0),!0):!1},ut.prototype.previous_token_wrapped=function(){return this._output.previous_token_wrapped},ut.prototype.print_newline=function(t){this._output.add_new_line(t)},ut.prototype.print_token=function(t){t.text&&(this._output.set_indent(this.indent_level,this.alignment_size),this._output.add_token(t.text))},ut.prototype.indent=function(){this.indent_level++},ut.prototype.get_full_indent=function(t){return t=this.indent_level+(t||0),t<1?"":this._output.get_indent_string(t)};var Tn=function(t){for(var e=null,n=t.next;n.type!==U.EOF&&t.closed!==n;){if(n.type===U.ATTRIBUTE&&n.text==="type"){n.next&&n.next.type===U.EQUALS&&n.next.next&&n.next.next.type===U.VALUE&&(e=n.next.next.text);break}n=n.next}return e},En=function(t,e){var n=null,_=null;return e.closed?(t==="script"?n="text/javascript":t==="style"&&(n="text/css"),n=Tn(e)||n,n.search("text/css")>-1?_="css":n.search(/module|((text|application|dojo)\/(x-)?(javascript|ecmascript|jscript|livescript|(ld\+)?json|method|aspect))/)>-1?_="javascript":n.search(/(text|application|dojo)\/(x-)?(html)/)>-1?_="html":n.search(/test\/null/)>-1&&(_="null"),_):null};function It(t,e){return e.indexOf(t)!==-1}function On(t,e,n){this.parent=t||null,this.tag=e?e.tag_name:"",this.indent_level=n||0,this.parser_token=e||null}function kt(t){this._printer=t,this._current_frame=null}kt.prototype.get_parser_token=function(){return this._current_frame?this._current_frame.parser_token:null},kt.prototype.record_tag=function(t){var e=new On(this._current_frame,t,this._printer.indent_level);this._current_frame=e},kt.prototype._try_pop_frame=function(t){var e=null;return t&&(e=t.parser_token,this._printer.indent_level=t.indent_level,this._current_frame=t.parent),e},kt.prototype._get_frame=function(t,e){for(var n=this._current_frame;n&&t.indexOf(n.tag)===-1;){if(e&&e.indexOf(n.tag)!==-1){n=null;break}n=n.parent}return n},kt.prototype.try_pop=function(t,e){var n=this._get_frame([t],e);return this._try_pop_frame(n)},kt.prototype.indent_to_tag=function(t){var e=this._get_frame(t);e&&(this._printer.indent_level=e.indent_level)};function ot(t,e,n,_){this._source_text=t||"",e=e||{},this._js_beautify=n,this._css_beautify=_,this._tag_stack=null;var u=new bn(e,"html");this._options=u,this._is_wrap_attributes_force=this._options.wrap_attributes.substr(0,5)==="force",this._is_wrap_attributes_force_expand_multiline=this._options.wrap_attributes==="force-expand-multiline",this._is_wrap_attributes_force_aligned=this._options.wrap_attributes==="force-aligned",this._is_wrap_attributes_aligned_multiple=this._options.wrap_attributes==="aligned-multiple",this._is_wrap_attributes_preserve=this._options.wrap_attributes.substr(0,8)==="preserve",this._is_wrap_attributes_preserve_aligned=this._options.wrap_attributes==="preserve-aligned"}ot.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var t=this._source_text,e=this._options.eol;this._options.eol==="auto"&&(e=`
`,t&&qe.test(t)&&(e=t.match(qe)[0])),t=t.replace(xn,`
`);var n=t.match(/^[\t ]*/)[0],_={text:"",type:""},u=new Qe,p=new ut(this._options,n),b=new wn(t,this._options).tokenize();this._tag_stack=new kt(p);for(var D=null,S=b.next();S.type!==U.EOF;)S.type===U.TAG_OPEN||S.type===U.COMMENT?(D=this._handle_tag_open(p,S,u,_),u=D):S.type===U.ATTRIBUTE||S.type===U.EQUALS||S.type===U.VALUE||S.type===U.TEXT&&!u.tag_complete?D=this._handle_inside_tag(p,S,u,b):S.type===U.TAG_CLOSE?D=this._handle_tag_close(p,S,u):S.type===U.TEXT?D=this._handle_text(p,S,u):p.add_raw_token(S),_=D,S=b.next();var B=p._output.get_code(e);return B},ot.prototype._handle_tag_close=function(t,e,n){var _={text:e.text,type:e.type};return t.alignment_size=0,n.tag_complete=!0,t.set_space_before_token(e.newlines||e.whitespace_before!=="",!0),n.is_unformatted?t.add_raw_token(e):(n.tag_start_char==="<"&&(t.set_space_before_token(e.text[0]==="/",!0),this._is_wrap_attributes_force_expand_multiline&&n.has_wrapped_attrs&&t.print_newline(!1)),t.print_token(e)),n.indent_content&&!(n.is_unformatted||n.is_content_unformatted)&&(t.indent(),n.indent_content=!1),!n.is_inline_element&&!(n.is_unformatted||n.is_content_unformatted)&&t.set_wrap_point(),_},ot.prototype._handle_inside_tag=function(t,e,n,_){var u=n.has_wrapped_attrs,p={text:e.text,type:e.type};if(t.set_space_before_token(e.newlines||e.whitespace_before!=="",!0),n.is_unformatted)t.add_raw_token(e);else if(n.tag_start_char==="{"&&e.type===U.TEXT)t.print_preserved_newlines(e)?(e.newlines=0,t.add_raw_token(e)):t.print_token(e);else{if(e.type===U.ATTRIBUTE?(t.set_space_before_token(!0),n.attr_count+=1):(e.type===U.EQUALS||e.type===U.VALUE&&e.previous.type===U.EQUALS)&&t.set_space_before_token(!1),e.type===U.ATTRIBUTE&&n.tag_start_char==="<"&&((this._is_wrap_attributes_preserve||this._is_wrap_attributes_preserve_aligned)&&(t.traverse_whitespace(e),u=u||e.newlines!==0),this._is_wrap_attributes_force)){var b=n.attr_count>1;if(this._is_wrap_attributes_force_expand_multiline&&n.attr_count===1){var D=!0,S=0,B;do{if(B=_.peek(S),B.type===U.ATTRIBUTE){D=!1;break}S+=1}while(S<4&&B.type!==U.EOF&&B.type!==U.TAG_CLOSE);b=!D}b&&(t.print_newline(!1),u=!0)}t.print_token(e),u=u||t.previous_token_wrapped(),n.has_wrapped_attrs=u}return p},ot.prototype._handle_text=function(t,e,n){var _={text:e.text,type:"TK_CONTENT"};return n.custom_beautifier_name?this._print_custom_beatifier_text(t,e,n):n.is_unformatted||n.is_content_unformatted?t.add_raw_token(e):(t.traverse_whitespace(e),t.print_token(e)),_},ot.prototype._print_custom_beatifier_text=function(t,e,n){var _=this;if(e.text!==""){var u=e.text,p,b=1,D="",S="";n.custom_beautifier_name==="javascript"&&typeof this._js_beautify=="function"?p=this._js_beautify:n.custom_beautifier_name==="css"&&typeof this._css_beautify=="function"?p=this._css_beautify:n.custom_beautifier_name==="html"&&(p=function(qt,lt){var ce=new ot(qt,lt,_._js_beautify,_._css_beautify);return ce.beautify()}),this._options.indent_scripts==="keep"?b=0:this._options.indent_scripts==="separate"&&(b=-t.indent_level);var B=t.get_full_indent(b);if(u=u.replace(/\n[ \t]*$/,""),n.custom_beautifier_name!=="html"&&u[0]==="<"&&u.match(/^(<!--|<!\[CDATA\[)/)){var F=/^(<!--[^\n]*|<!\[CDATA\[)(\n?)([ \t\n]*)([\s\S]*)(-->|]]>)$/.exec(u);if(!F){t.add_raw_token(e);return}D=B+F[1]+`
`,u=F[4],F[5]&&(S=B+F[5]),u=u.replace(/\n[ \t]*$/,""),(F[2]||F[3].indexOf(`
`)!==-1)&&(F=F[3].match(/[ \t]+$/),F&&(e.whitespace_before=F[0]))}if(u)if(p){var gt=function(){this.eol=`
`};gt.prototype=this._options.raw_options;var Gt=new gt;u=p(B+u,Gt)}else{var St=e.whitespace_before;St&&(u=u.replace(new RegExp(`
(`+St+")?","g"),`
`)),u=B+u.replace(/\n/g,`
`+B)}D&&(u?u=D+u+`
`+S:u=D+S),t.print_newline(!1),u&&(e.text=u,e.whitespace_before="",e.newlines=0,t.add_raw_token(e),t.print_newline(!0))}},ot.prototype._handle_tag_open=function(t,e,n,_){var u=this._get_tag_open_token(e);return(n.is_unformatted||n.is_content_unformatted)&&!n.is_empty_element&&e.type===U.TAG_OPEN&&e.text.indexOf("</")===0?(t.add_raw_token(e),u.start_tag_token=this._tag_stack.try_pop(u.tag_name)):(t.traverse_whitespace(e),this._set_tag_position(t,e,u,n,_),u.is_inline_element||t.set_wrap_point(),t.print_token(e)),(this._is_wrap_attributes_force_aligned||this._is_wrap_attributes_aligned_multiple||this._is_wrap_attributes_preserve_aligned)&&(u.alignment_size=e.text.length+1),!u.tag_complete&&!u.is_unformatted&&(t.alignment_size=u.alignment_size),u};var Qe=function(t,e){if(this.parent=t||null,this.text="",this.type="TK_TAG_OPEN",this.tag_name="",this.is_inline_element=!1,this.is_unformatted=!1,this.is_content_unformatted=!1,this.is_empty_element=!1,this.is_start_tag=!1,this.is_end_tag=!1,this.indent_content=!1,this.multiline_content=!1,this.custom_beautifier_name=null,this.start_tag_token=null,this.attr_count=0,this.has_wrapped_attrs=!1,this.alignment_size=0,this.tag_complete=!1,this.tag_start_char="",this.tag_check="",!e)this.tag_complete=!0;else{var n;this.tag_start_char=e.text[0],this.text=e.text,this.tag_start_char==="<"?(n=e.text.match(/^<([^\s>]*)/),this.tag_check=n?n[1]:""):(n=e.text.match(/^{{(?:[\^]|#\*?)?([^\s}]+)/),this.tag_check=n?n[1]:"",e.text==="{{#>"&&this.tag_check===">"&&e.next!==null&&(this.tag_check=e.next.text)),this.tag_check=this.tag_check.toLowerCase(),e.type===U.COMMENT&&(this.tag_complete=!0),this.is_start_tag=this.tag_check.charAt(0)!=="/",this.tag_name=this.is_start_tag?this.tag_check:this.tag_check.substr(1),this.is_end_tag=!this.is_start_tag||e.closed&&e.closed.text==="/>",this.is_end_tag=this.is_end_tag||this.tag_start_char==="{"&&(this.text.length<3||/[^#\^]/.test(this.text.charAt(2)))}};ot.prototype._get_tag_open_token=function(t){var e=new Qe(this._tag_stack.get_parser_token(),t);return e.alignment_size=this._options.wrap_attributes_indent_size,e.is_end_tag=e.is_end_tag||It(e.tag_check,this._options.void_elements),e.is_empty_element=e.tag_complete||e.is_start_tag&&e.is_end_tag,e.is_unformatted=!e.tag_complete&&It(e.tag_check,this._options.unformatted),e.is_content_unformatted=!e.is_empty_element&&It(e.tag_check,this._options.content_unformatted),e.is_inline_element=It(e.tag_name,this._options.inline)||e.tag_start_char==="{",e},ot.prototype._set_tag_position=function(t,e,n,_,u){if(n.is_empty_element||(n.is_end_tag?n.start_tag_token=this._tag_stack.try_pop(n.tag_name):(this._do_optional_end_element(n)&&(n.is_inline_element||t.print_newline(!1)),this._tag_stack.record_tag(n),(n.tag_name==="script"||n.tag_name==="style")&&!(n.is_unformatted||n.is_content_unformatted)&&(n.custom_beautifier_name=En(n.tag_check,e)))),It(n.tag_check,this._options.extra_liners)&&(t.print_newline(!1),t._output.just_added_blankline()||t.print_newline(!0)),n.is_empty_element){if(n.tag_start_char==="{"&&n.tag_check==="else"){this._tag_stack.indent_to_tag(["if","unless","each"]),n.indent_content=!0;var p=t.current_line_has_match(/{{#if/);p||t.print_newline(!1)}n.tag_name==="!--"&&u.type===U.TAG_CLOSE&&_.is_end_tag&&n.text.indexOf(`
`)===-1||(n.is_inline_element||n.is_unformatted||t.print_newline(!1),this._calcluate_parent_multiline(t,n))}else if(n.is_end_tag){var b=!1;b=n.start_tag_token&&n.start_tag_token.multiline_content,b=b||!n.is_inline_element&&!(_.is_inline_element||_.is_unformatted)&&!(u.type===U.TAG_CLOSE&&n.start_tag_token===_)&&u.type!=="TK_CONTENT",(n.is_content_unformatted||n.is_unformatted)&&(b=!1),b&&t.print_newline(!1)}else n.indent_content=!n.custom_beautifier_name,n.tag_start_char==="<"&&(n.tag_name==="html"?n.indent_content=this._options.indent_inner_html:n.tag_name==="head"?n.indent_content=this._options.indent_head_inner_html:n.tag_name==="body"&&(n.indent_content=this._options.indent_body_inner_html)),!(n.is_inline_element||n.is_unformatted)&&(u.type!=="TK_CONTENT"||n.is_content_unformatted)&&t.print_newline(!1),this._calcluate_parent_multiline(t,n)},ot.prototype._calcluate_parent_multiline=function(t,e){e.parent&&t._output.just_added_newline()&&!((e.is_inline_element||e.is_unformatted)&&e.parent.is_inline_element)&&(e.parent.multiline_content=!0)};var Cn=["address","article","aside","blockquote","details","div","dl","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hr","main","nav","ol","p","pre","section","table","ul"],kn=["a","audio","del","ins","map","noscript","video"];ot.prototype._do_optional_end_element=function(t){var e=null;if(!(t.is_empty_element||!t.is_start_tag||!t.parent)){if(t.tag_name==="body")e=e||this._tag_stack.try_pop("head");else if(t.tag_name==="li")e=e||this._tag_stack.try_pop("li",["ol","ul"]);else if(t.tag_name==="dd"||t.tag_name==="dt")e=e||this._tag_stack.try_pop("dt",["dl"]),e=e||this._tag_stack.try_pop("dd",["dl"]);else if(t.parent.tag_name==="p"&&Cn.indexOf(t.tag_name)!==-1){var n=t.parent.parent;(!n||kn.indexOf(n.tag_name)===-1)&&(e=e||this._tag_stack.try_pop("p"))}else t.tag_name==="rp"||t.tag_name==="rt"?(e=e||this._tag_stack.try_pop("rt",["ruby","rtc"]),e=e||this._tag_stack.try_pop("rp",["ruby","rtc"])):t.tag_name==="optgroup"?e=e||this._tag_stack.try_pop("optgroup",["select"]):t.tag_name==="option"?e=e||this._tag_stack.try_pop("option",["select","datalist","optgroup"]):t.tag_name==="colgroup"?e=e||this._tag_stack.try_pop("caption",["table"]):t.tag_name==="thead"?(e=e||this._tag_stack.try_pop("caption",["table"]),e=e||this._tag_stack.try_pop("colgroup",["table"])):t.tag_name==="tbody"||t.tag_name==="tfoot"?(e=e||this._tag_stack.try_pop("caption",["table"]),e=e||this._tag_stack.try_pop("colgroup",["table"]),e=e||this._tag_stack.try_pop("thead",["table"]),e=e||this._tag_stack.try_pop("tbody",["table"])):t.tag_name==="tr"?(e=e||this._tag_stack.try_pop("caption",["table"]),e=e||this._tag_stack.try_pop("colgroup",["table"]),e=e||this._tag_stack.try_pop("tr",["table","thead","tbody","tfoot"])):(t.tag_name==="th"||t.tag_name==="td")&&(e=e||this._tag_stack.try_pop("td",["table","thead","tbody","tfoot","tr"]),e=e||this._tag_stack.try_pop("th",["table","thead","tbody","tfoot","tr"]));return t.parent=this._tag_stack.get_parser_token(),e}};var Sn=ot,Rn={Beautifier:Sn},An=Rn.Beautifier,Nn=Ke.Options;function Ln(t,e,n,_){var u=new An(t,e,n,_);return u.beautify()}var fe=Ln,Dn=function(){return new Nn};fe.defaultOptions=Dn;function Je(t,e,n,_){return n=n||oe,_=_||le,fe(t,e,n,_)}Je.defaultOptions=fe.defaultOptions;var In=oe,$n=le,Mn=Je,Pn={js:In,css:$n,html:Mn},zn=C(function(t){function e(n,_,u){var p=function(b,D){return n.js_beautify(b,D)};return p.js=n.js_beautify,p.css=_.css_beautify,p.html=u.html_beautify,p.js_beautify=n.js_beautify,p.css_beautify=_.css_beautify,p.html_beautify=u.html_beautify,p}(function(n){var _=Pn;_.js_beautify=_.js,_.css_beautify=_.css,_.html_beautify=_.html,n.exports=e(_,_,_)})(t)});let tt=[];function he(t){let e=0;tt=[];for(let n=0;n<t.length;n++){const _=t[n];tt.push({text:_,ignore:_.ignore||!1,offset:_.ignore?-1:e}),_.ignore||(e+=_.textContent?_.textContent.length:0)}}function Ft(t,e){var n;let _=tt.findIndex(u=>u.text===t);if(_!==-1){const p={text:tt[_].text.splitText(e),ignore:tt[_].ignore,offset:tt[_].offset+(((n=tt[_].text.textContent)===null||n===void 0?void 0:n.length)||0)};return tt.splice(_+1,0,p),p}else console.error("bug，找不到可以splitVTextNode的节点，请联系开发人员")}function Bn(t,e,n=!1){const _=tt.findIndex(p=>p.text===t.text),u=tt.findIndex(p=>p.text===e.text);if(_!==-1&&u!==-1){let p=tt.slice(_,u);return p=n?p.filter(b=>!b.ignore):p,p.map(b=>b.text)}else console.error("bug，找不到可以sliceVTextNode的节点，请联系开发人员")}function He(t){let e=tt.filter(_=>!_.ignore),n=e.findIndex(_=>_.offset+_.text.length>=t);if(n!==-1)return e[n];console.error("bug，找不到可以getTextContainer的节点，请联系开发人员")}function jn(t){let e=tt.findIndex(n=>n===t);if(e!==-1)for(e=e==0?0:e-1;e!==0;){if(!tt[e].ignore)return tt[e+1];e--}else console.error("bug，找不到可以getOptionalVText的节点，请联系开发人员")}function Wn(t){const e=[],n=[];tt.map(_=>{const u=_.text.textContent,p=new RegExp(t,"g");let b;for(;u&&(b=p.exec(u))!==null;)e.unshift({text:_.text,start:b.index,end:p.lastIndex})});for(let _=0;_<e.length;_++){const u=e[_];Ft(u.text,u.end);const p=Ft(u.text,u.start);p&&n.push(p.text)}return n}const $t="data-selector",Vn=zn.html_beautify;let pe;class Un{constructor(e){this.onSelected=null,this.onClick=null;const n=pe=this._element=e.el;this._selection=window.getSelection(),n.nodeType!==1&&this._onError("请挂载dom节点"),this._selection||this._onError("浏览器暂不支持标注，请查看文档支持浏览器版本"),L(m,e.options),m.beautify&&this._beautifyHTML(n),m.ignoreClass.length>0&&this._setEleNoSelect(this._element,m.ignoreClass),he(o(n,m.ignoreClass)),n.addEventListener("mouseup",this._onMouseUp.bind(this))}_beautifyHTML(e){e.innerHTML=Vn(e.innerHTML,{preserve_newlines:!1})}_setEleNoSelect(e,n){n.map(_=>{const u=e.querySelectorAll(`.${_}`);if(u)for(let p=0;p<u.length;p++){const b=u[p];b.style.userSelect="none"}})}_onClick(e){if(e.target!==null&&"dataset"in e.target){let n=e.target.dataset.selector;if(n){let _=document.querySelectorAll(`span[${$t}="${n}"]`);const{top:u,left:p}=w(_[0],pe);this.onClick&&this.onClick({uid:n,offsetTop:u,offsetLeft:p})}}}_onError(e){throw new Error(e)}_onSelected(e){this.onSelected&&this.onSelected(e)}_onMouseUp(e){let n=this._selection;if(n==null)return;if(n.isCollapsed)return this._onClick&&this._onClick(e);const _=n.getRangeAt(0);this._captureSelection(_)}_captureSelection(e){let n=this._selection;if(!n)return;if(e.startContainer.nodeType!==3||e.endContainer.nodeType!==3)return n.removeAllRanges(),this._onError("只可选中文本节点");if(!m.isCover&&!e.storeRenderOther&&this.hasCoverSelector(e,$t))return n.removeAllRanges(),this._onError("不允许覆盖标注，详细请看配置文档，或设置isCover为true");const _=e.startContainer,u=e.endContainer;let p=Ft(u,e.endOffset);const b=Ft(_,e.startOffset);if(!b||!p||(m.ignoreClass.length>0&&(p=jn(p)),!p))return;const D=Bn(b,p,m.ignoreClass.length>0)||[],S=b.offset;let B="";D==null||D.map(F=>B+=F.textContent),this._onSelected({text:B,offset:S,hasStoreRender:i(e,"storeRenderOther"),textNodes:D,storeRenderOther:e&&e.storeRenderOther?e.storeRenderOther:{}}),n.removeAllRanges(),e.detach&&e.detach()}hasCoverSelector(e,n){var _;let u=!1;return(e.cloneContents().querySelector(`[${n}]`)||((_=e.commonAncestorContainer.parentNode)===null||_===void 0?void 0:_.nodeType)===1&&e.commonAncestorContainer.parentNode.getAttribute(n))&&(u=!0),u}destroy(){this._selection=null,this._element.removeEventListener("mouseup",this._onMouseUp)}renderStore(e){this._selection!=null&&e.map(n=>{const _=n.offset+n.text.length;let u=He(n.offset),p=He(_);if(u&&p){const b=_-p.offset,D=n.offset-u.offset,S={collapsed:!1,commonAncestorContainer:this._element,endContainer:p.text,endOffset:b,startContainer:u.text,startOffset:D,storeRenderOther:n};this._captureSelection(S)}})}findWord(e){return this.beautifyHTML(),e?Wn(e):null}repaintRange(e){let{uuid:n,className:_,textNodes:u}=e,p=n||l(),b=null,D=null;return u.forEach(S=>{if(S.parentNode){let B=document.createElement("span");if(_?B.className=_:B.style.background="rgba(255, 255, 0, 0.3)",B.setAttribute($t,p),S.parentNode.replaceChild(B,S),B.appendChild(S),b==null){const F=w(B,pe);b=F.top,D=F.left}}}),{uid:p,offsetTop:b,offsetLeft:D}}deleteMark(e){let n=document.querySelectorAll(`span[${$t}="${e}"]`);this._removeMark(n)}replaceMarkClass(e,n){document.querySelectorAll(`span[${$t}="${e}"]`).forEach(u=>{u.className=n})}_removeMark(e){e.forEach(n=>{if(n.parentNode){const _=document.createDocumentFragment();let u=n.childNodes;for(let p=0;p<u.length;p++){const b=u[p];_.appendChild(b.cloneNode(!0))}n.parentNode.replaceChild(_,n)}}),he(o(this._element,m.ignoreClass))}beautifyHTML(){this._beautifyHTML(this._element),he(o(this._element,m.ignoreClass))}}return Un})}(Ht)),Ht.exports}Yn();var xt=function(){function r(){}return r.prototype.diff=function(a,s,i){i===void 0&&(i={});var l;typeof i=="function"?(l=i,i={}):"callback"in i&&(l=i.callback);var o=this.castInput(a,i),f=this.castInput(s,i),w=this.removeEmpty(this.tokenize(o,i)),m=this.removeEmpty(this.tokenize(f,i));return this.diffWithOptionsObj(w,m,i,l)},r.prototype.diffWithOptionsObj=function(a,s,i,l){var o=this,f,w=function(x){if(x=o.postProcess(x,i),l){setTimeout(function(){l(x)},0);return}else return x},m=s.length,L=a.length,C=1,k=m+L;i.maxEditLength!=null&&(k=Math.min(k,i.maxEditLength));var K=(f=i.timeout)!==null&&f!==void 0?f:1/0,d=Date.now()+K,g=[{oldPos:-1,lastComponent:void 0}],T=this.extractCommon(g[0],s,a,0,i);if(g[0].oldPos+1>=L&&T+1>=m)return w(this.buildValues(g[0].lastComponent,s,a));var E=-1/0,R=1/0,j=function(){for(var x=Math.max(E,-C);x<=Math.min(R,C);x+=2){var I=void 0,z=g[x-1],Z=g[x+1];z&&(g[x-1]=void 0);var c=!1;if(Z){var v=Z.oldPos-x;c=Z&&0<=v&&v<m}var y=z&&z.oldPos+1<L;if(!c&&!y){g[x]=void 0;continue}if(!y||c&&z.oldPos<Z.oldPos?I=o.addToPath(Z,!0,!1,0,i):I=o.addToPath(z,!1,!0,1,i),T=o.extractCommon(I,s,a,x,i),I.oldPos+1>=L&&T+1>=m)return w(o.buildValues(I.lastComponent,s,a))||!0;g[x]=I,I.oldPos+1>=L&&(R=Math.min(R,x-1)),T+1>=m&&(E=Math.max(E,x+1))}C++};if(l)(function x(){setTimeout(function(){if(C>k||Date.now()>d)return l(void 0);j()||x()},0)})();else for(;C<=k&&Date.now()<=d;){var O=j();if(O)return O}},r.prototype.addToPath=function(a,s,i,l,o){var f=a.lastComponent;return f&&!o.oneChangePerToken&&f.added===s&&f.removed===i?{oldPos:a.oldPos+l,lastComponent:{count:f.count+1,added:s,removed:i,previousComponent:f.previousComponent}}:{oldPos:a.oldPos+l,lastComponent:{count:1,added:s,removed:i,previousComponent:f}}},r.prototype.extractCommon=function(a,s,i,l,o){for(var f=s.length,w=i.length,m=a.oldPos,L=m-l,C=0;L+1<f&&m+1<w&&this.equals(i[m+1],s[L+1],o);)L++,m++,C++,o.oneChangePerToken&&(a.lastComponent={count:1,previousComponent:a.lastComponent,added:!1,removed:!1});return C&&!o.oneChangePerToken&&(a.lastComponent={count:C,previousComponent:a.lastComponent,added:!1,removed:!1}),a.oldPos=m,L},r.prototype.equals=function(a,s,i){return i.comparator?i.comparator(a,s):a===s||!!i.ignoreCase&&a.toLowerCase()===s.toLowerCase()},r.prototype.removeEmpty=function(a){for(var s=[],i=0;i<a.length;i++)a[i]&&s.push(a[i]);return s},r.prototype.castInput=function(a,s){return a},r.prototype.tokenize=function(a,s){return Array.from(a)},r.prototype.join=function(a){return a.join("")},r.prototype.postProcess=function(a,s){return a},Object.defineProperty(r.prototype,"useLongestToken",{get:function(){return!1},enumerable:!1,configurable:!0}),r.prototype.buildValues=function(a,s,i){for(var l=[],o;a;)l.push(a),o=a.previousComponent,delete a.previousComponent,a=o;l.reverse();for(var f=l.length,w=0,m=0,L=0;w<f;w++){var C=l[w];if(C.removed)C.value=this.join(i.slice(L,L+C.count)),L+=C.count;else{if(!C.added&&this.useLongestToken){var k=s.slice(m,m+C.count);k=k.map(function(K,d){var g=i[L+d];return g.length>K.length?g:K}),C.value=this.join(k)}else C.value=this.join(s.slice(m,m+C.count));m+=C.count,C.added||(L+=C.count)}}return l},r}(),ts=function(){var r=function(a,s){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,l){i.__proto__=l}||function(i,l){for(var o in l)Object.prototype.hasOwnProperty.call(l,o)&&(i[o]=l[o])},r(a,s)};return function(a,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");r(a,s);function i(){this.constructor=a}a.prototype=s===null?Object.create(s):(i.prototype=s.prototype,new i)}}(),es=function(r){ts(a,r);function a(){return r!==null&&r.apply(this,arguments)||this}return a}(xt);new es;function Ye(r,a){var s;for(s=0;s<r.length&&s<a.length;s++)if(r[s]!=a[s])return r.slice(0,s);return r.slice(0,s)}function ti(r,a){var s;if(!r||!a||r[r.length-1]!=a[a.length-1])return"";for(s=0;s<r.length&&s<a.length;s++)if(r[r.length-(s+1)]!=a[a.length-(s+1)])return r.slice(-s);return r.slice(-s)}function be(r,a,s){if(r.slice(0,a.length)!=a)throw Error("string ".concat(JSON.stringify(r)," doesn't start with prefix ").concat(JSON.stringify(a),"; this is a bug"));return s+r.slice(a.length)}function ye(r,a,s){if(!a)return r+s;if(r.slice(-a.length)!=a)throw Error("string ".concat(JSON.stringify(r)," doesn't end with suffix ").concat(JSON.stringify(a),"; this is a bug"));return r.slice(0,-a.length)+s}function Mt(r,a){return be(r,a,"")}function Qt(r,a){return ye(r,a,"")}function ei(r,a){return a.slice(0,is(r,a))}function is(r,a){var s=0;r.length>a.length&&(s=r.length-a.length);var i=a.length;r.length<a.length&&(i=r.length);var l=Array(i),o=0;l[0]=0;for(var f=1;f<i;f++){for(a[f]==a[o]?l[f]=l[o]:l[f]=o;o>0&&a[f]!=a[o];)o=l[o];a[f]==a[o]&&o++}o=0;for(var w=s;w<r.length;w++){for(;o>0&&r[w]!=a[o];)o=l[o];r[w]==a[o]&&o++}return o}function Pt(r){var a;for(a=r.length-1;a>=0&&r[a].match(/\s/);a--);return r.substring(a+1)}function wt(r){var a=r.match(/^\s*/);return a?a[0]:""}var hi=function(){var r=function(a,s){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,l){i.__proto__=l}||function(i,l){for(var o in l)Object.prototype.hasOwnProperty.call(l,o)&&(i[o]=l[o])},r(a,s)};return function(a,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");r(a,s);function i(){this.constructor=a}a.prototype=s===null?Object.create(s):(i.prototype=s.prototype,new i)}}(),Zt="a-zA-Z0-9_\\u{C0}-\\u{FF}\\u{D8}-\\u{F6}\\u{F8}-\\u{2C6}\\u{2C8}-\\u{2D7}\\u{2DE}-\\u{2FF}\\u{1E00}-\\u{1EFF}",ns=new RegExp("[".concat(Zt,"]+|\\s+|[^").concat(Zt,"]"),"ug"),ss=function(r){hi(a,r);function a(){return r!==null&&r.apply(this,arguments)||this}return a.prototype.equals=function(s,i,l){return l.ignoreCase&&(s=s.toLowerCase(),i=i.toLowerCase()),s.trim()===i.trim()},a.prototype.tokenize=function(s,i){i===void 0&&(i={});var l;if(i.intlSegmenter){var o=i.intlSegmenter;if(o.resolvedOptions().granularity!="word")throw new Error('The segmenter passed must have a granularity of "word"');l=Array.from(o.segment(s),function(m){return m.segment})}else l=s.match(ns)||[];var f=[],w=null;return l.forEach(function(m){/\s/.test(m)?w==null?f.push(m):f.push(f.pop()+m):w!=null&&/\s/.test(w)?f[f.length-1]==w?f.push(f.pop()+m):f.push(w+m):f.push(m),w=m}),f},a.prototype.join=function(s){return s.map(function(i,l){return l==0?i:i.replace(/^\s+/,"")}).join("")},a.prototype.postProcess=function(s,i){if(!s||i.oneChangePerToken)return s;var l=null,o=null,f=null;return s.forEach(function(w){w.added?o=w:w.removed?f=w:((o||f)&&ii(l,f,o,w),l=w,o=null,f=null)}),(o||f)&&ii(l,f,o,null),s},a}(xt);new ss;function ii(r,a,s,i){if(a&&s){var l=wt(a.value),o=Pt(a.value),f=wt(s.value),w=Pt(s.value);if(r){var m=Ye(l,f);r.value=ye(r.value,f,m),a.value=Mt(a.value,m),s.value=Mt(s.value,m)}if(i){var L=ti(o,w);i.value=be(i.value,w,L),a.value=Qt(a.value,L),s.value=Qt(s.value,L)}}else if(s){if(r){var C=wt(s.value);s.value=s.value.substring(C.length)}if(i){var C=wt(i.value);i.value=i.value.substring(C.length)}}else if(r&&i){var k=wt(i.value),K=wt(a.value),d=Pt(a.value),g=Ye(k,K);a.value=Mt(a.value,g);var T=ti(Mt(k,g),d);a.value=Qt(a.value,T),i.value=be(i.value,k,T),r.value=ye(r.value,k,k.slice(0,k.length-T.length))}else if(i){var E=wt(i.value),R=Pt(a.value),j=ei(R,E);a.value=Qt(a.value,j)}else if(r){var O=Pt(r.value),x=wt(a.value),j=ei(O,x);a.value=Mt(a.value,j)}}var as=function(r){hi(a,r);function a(){return r!==null&&r.apply(this,arguments)||this}return a.prototype.tokenize=function(s){var i=new RegExp("(\\r?\\n)|[".concat(Zt,"]+|[^\\S\\n\\r]+|[^").concat(Zt,"]"),"ug");return s.match(i)||[]},a}(xt);new as;var rs=function(){var r=function(a,s){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,l){i.__proto__=l}||function(i,l){for(var o in l)Object.prototype.hasOwnProperty.call(l,o)&&(i[o]=l[o])},r(a,s)};return function(a,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");r(a,s);function i(){this.constructor=a}a.prototype=s===null?Object.create(s):(i.prototype=s.prototype,new i)}}(),_s=function(r){rs(a,r);function a(){var s=r!==null&&r.apply(this,arguments)||this;return s.tokenize=pi,s}return a.prototype.equals=function(s,i,l){return l.ignoreWhitespace?((!l.newlineIsToken||!s.includes(`
`))&&(s=s.trim()),(!l.newlineIsToken||!i.includes(`
`))&&(i=i.trim())):l.ignoreNewlineAtEof&&!l.newlineIsToken&&(s.endsWith(`
`)&&(s=s.slice(0,-1)),i.endsWith(`
`)&&(i=i.slice(0,-1))),r.prototype.equals.call(this,s,i,l)},a}(xt);new _s;function pi(r,a){a.stripTrailingCr&&(r=r.replace(/\r\n/g,`
`));var s=[],i=r.split(/(\n|\r\n)/);i[i.length-1]||i.pop();for(var l=0;l<i.length;l++){var o=i[l];l%2&&!a.newlineIsToken?s[s.length-1]+=o:s.push(o)}return s}var us=function(){var r=function(a,s){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,l){i.__proto__=l}||function(i,l){for(var o in l)Object.prototype.hasOwnProperty.call(l,o)&&(i[o]=l[o])},r(a,s)};return function(a,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");r(a,s);function i(){this.constructor=a}a.prototype=s===null?Object.create(s):(i.prototype=s.prototype,new i)}}(),os=function(r){us(a,r);function a(){return r!==null&&r.apply(this,arguments)||this}return a.prototype.tokenize=function(s){return s.split(new RegExp("(?<=[.!?])(\\s+|$)"))},a}(xt);new os;var ls=function(){var r=function(a,s){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,l){i.__proto__=l}||function(i,l){for(var o in l)Object.prototype.hasOwnProperty.call(l,o)&&(i[o]=l[o])},r(a,s)};return function(a,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");r(a,s);function i(){this.constructor=a}a.prototype=s===null?Object.create(s):(i.prototype=s.prototype,new i)}}(),fs=function(r){ls(a,r);function a(){return r!==null&&r.apply(this,arguments)||this}return a.prototype.tokenize=function(s){return s.split(/([{}:;,]|\s+)/)},a}(xt);new fs;var hs=function(){var r=function(a,s){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,l){i.__proto__=l}||function(i,l){for(var o in l)Object.prototype.hasOwnProperty.call(l,o)&&(i[o]=l[o])},r(a,s)};return function(a,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");r(a,s);function i(){this.constructor=a}a.prototype=s===null?Object.create(s):(i.prototype=s.prototype,new i)}}(),ps=function(r){hs(a,r);function a(){var s=r!==null&&r.apply(this,arguments)||this;return s.tokenize=pi,s}return Object.defineProperty(a.prototype,"useLongestToken",{get:function(){return!0},enumerable:!1,configurable:!0}),a.prototype.castInput=function(s,i){var l=i.undefinedReplacement,o=i.stringifyReplacer,f=o===void 0?function(w,m){return typeof m>"u"?l:m}:o;return typeof s=="string"?s:JSON.stringify(we(s,null,null,f),null,"  ")},a.prototype.equals=function(s,i,l){return r.prototype.equals.call(this,s.replace(/,([\r\n])/g,"$1"),i.replace(/,([\r\n])/g,"$1"),l)},a}(xt);new ps;function we(r,a,s,i,l){a=a||[],s=s||[],i&&(r=i(l===void 0?"":l,r));var o;for(o=0;o<a.length;o+=1)if(a[o]===r)return s[o];var f;if(Object.prototype.toString.call(r)==="[object Array]"){for(a.push(r),f=new Array(r.length),s.push(f),o=0;o<r.length;o+=1)f[o]=we(r[o],a,s,i,String(o));return a.pop(),s.pop(),f}if(r&&r.toJSON&&(r=r.toJSON()),typeof r=="object"&&r!==null){a.push(r),f={},s.push(f);var w=[],m;for(m in r)Object.prototype.hasOwnProperty.call(r,m)&&w.push(m);for(w.sort(),o=0;o<w.length;o+=1)m=w[o],f[m]=we(r[m],a,s,i,m);a.pop(),s.pop()}else f=r;return f}var cs=function(){var r=function(a,s){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,l){i.__proto__=l}||function(i,l){for(var o in l)Object.prototype.hasOwnProperty.call(l,o)&&(i[o]=l[o])},r(a,s)};return function(a,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");r(a,s);function i(){this.constructor=a}a.prototype=s===null?Object.create(s):(i.prototype=s.prototype,new i)}}(),ds=function(r){cs(a,r);function a(){return r!==null&&r.apply(this,arguments)||this}return a.prototype.tokenize=function(s){return s.slice()},a.prototype.join=function(s){return s},a.prototype.removeEmpty=function(s){return s},a}(xt);new ds;var ni;(function(r){r.INSERT="insert",r.DELETE="delete",r.CONTEXT="context"})(ni||(ni={}));const gs={LINE_BY_LINE:"line-by-line"},vs={NONE:"none"},ms={WORD:"word"};var xe;(function(r){r.AUTO="auto",r.DARK="dark",r.LIGHT="light"})(xe||(xe={}));function vt(){}vt.prototype={diff:function(a,s){var i,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=l.callback;typeof l=="function"&&(o=l,l={});var f=this;function w(x){return x=f.postProcess(x,l),o?(setTimeout(function(){o(x)},0),!0):x}a=this.castInput(a,l),s=this.castInput(s,l),a=this.removeEmpty(this.tokenize(a,l)),s=this.removeEmpty(this.tokenize(s,l));var m=s.length,L=a.length,C=1,k=m+L;l.maxEditLength!=null&&(k=Math.min(k,l.maxEditLength));var K=(i=l.timeout)!==null&&i!==void 0?i:1/0,d=Date.now()+K,g=[{oldPos:-1,lastComponent:void 0}],T=this.extractCommon(g[0],s,a,0,l);if(g[0].oldPos+1>=L&&T+1>=m)return w(si(f,g[0].lastComponent,s,a,f.useLongestToken));var E=-1/0,R=1/0;function j(){for(var x=Math.max(E,-C);x<=Math.min(R,C);x+=2){var I=void 0,z=g[x-1],Z=g[x+1];z&&(g[x-1]=void 0);var c=!1;if(Z){var v=Z.oldPos-x;c=Z&&0<=v&&v<m}var y=z&&z.oldPos+1<L;if(!c&&!y){g[x]=void 0;continue}if(!y||c&&z.oldPos<Z.oldPos?I=f.addToPath(Z,!0,!1,0,l):I=f.addToPath(z,!1,!0,1,l),T=f.extractCommon(I,s,a,x,l),I.oldPos+1>=L&&T+1>=m)return w(si(f,I.lastComponent,s,a,f.useLongestToken));g[x]=I,I.oldPos+1>=L&&(R=Math.min(R,x-1)),T+1>=m&&(E=Math.max(E,x+1))}C++}if(o)(function x(){setTimeout(function(){if(C>k||Date.now()>d)return o();j()||x()},0)})();else for(;C<=k&&Date.now()<=d;){var O=j();if(O)return O}},addToPath:function(a,s,i,l,o){var f=a.lastComponent;return f&&!o.oneChangePerToken&&f.added===s&&f.removed===i?{oldPos:a.oldPos+l,lastComponent:{count:f.count+1,added:s,removed:i,previousComponent:f.previousComponent}}:{oldPos:a.oldPos+l,lastComponent:{count:1,added:s,removed:i,previousComponent:f}}},extractCommon:function(a,s,i,l,o){for(var f=s.length,w=i.length,m=a.oldPos,L=m-l,C=0;L+1<f&&m+1<w&&this.equals(i[m+1],s[L+1],o);)L++,m++,C++,o.oneChangePerToken&&(a.lastComponent={count:1,previousComponent:a.lastComponent,added:!1,removed:!1});return C&&!o.oneChangePerToken&&(a.lastComponent={count:C,previousComponent:a.lastComponent,added:!1,removed:!1}),a.oldPos=m,L},equals:function(a,s,i){return i.comparator?i.comparator(a,s):a===s||i.ignoreCase&&a.toLowerCase()===s.toLowerCase()},removeEmpty:function(a){for(var s=[],i=0;i<a.length;i++)a[i]&&s.push(a[i]);return s},castInput:function(a){return a},tokenize:function(a){return Array.from(a)},join:function(a){return a.join("")},postProcess:function(a){return a}};function si(r,a,s,i,l){for(var o=[],f;a;)o.push(a),f=a.previousComponent,delete a.previousComponent,a=f;o.reverse();for(var w=0,m=o.length,L=0,C=0;w<m;w++){var k=o[w];if(k.removed)k.value=r.join(i.slice(C,C+k.count)),C+=k.count;else{if(!k.added&&l){var K=s.slice(L,L+k.count);K=K.map(function(d,g){var T=i[C+g];return T.length>d.length?T:d}),k.value=r.join(K)}else k.value=r.join(s.slice(L,L+k.count));L+=k.count,k.added||(C+=k.count)}}return o}function ai(r,a){var s;for(s=0;s<r.length&&s<a.length;s++)if(r[s]!=a[s])return r.slice(0,s);return r.slice(0,s)}function ri(r,a){var s;if(!r||!a||r[r.length-1]!=a[a.length-1])return"";for(s=0;s<r.length&&s<a.length;s++)if(r[r.length-(s+1)]!=a[a.length-(s+1)])return r.slice(-s);return r.slice(-s)}function Te(r,a,s){if(r.slice(0,a.length)!=a)throw Error("string ".concat(JSON.stringify(r)," doesn't start with prefix ").concat(JSON.stringify(a),"; this is a bug"));return s+r.slice(a.length)}function Ee(r,a,s){if(!a)return r+s;if(r.slice(-a.length)!=a)throw Error("string ".concat(JSON.stringify(r)," doesn't end with suffix ").concat(JSON.stringify(a),"; this is a bug"));return r.slice(0,-a.length)+s}function zt(r,a){return Te(r,a,"")}function Jt(r,a){return Ee(r,a,"")}function _i(r,a){return a.slice(0,bs(r,a))}function bs(r,a){var s=0;r.length>a.length&&(s=r.length-a.length);var i=a.length;r.length<a.length&&(i=r.length);var l=Array(i),o=0;l[0]=0;for(var f=1;f<i;f++){for(a[f]==a[o]?l[f]=l[o]:l[f]=o;o>0&&a[f]!=a[o];)o=l[o];a[f]==a[o]&&o++}o=0;for(var w=s;w<r.length;w++){for(;o>0&&r[w]!=a[o];)o=l[o];r[w]==a[o]&&o++}return o}var Yt="a-zA-Z0-9_\\u{C0}-\\u{FF}\\u{D8}-\\u{F6}\\u{F8}-\\u{2C6}\\u{2C8}-\\u{2D7}\\u{2DE}-\\u{2FF}\\u{1E00}-\\u{1EFF}",ys=new RegExp("[".concat(Yt,"]+|\\s+|[^").concat(Yt,"]"),"ug"),te=new vt;te.equals=function(r,a,s){return s.ignoreCase&&(r=r.toLowerCase(),a=a.toLowerCase()),r.trim()===a.trim()};te.tokenize=function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s;if(a.intlSegmenter){if(a.intlSegmenter.resolvedOptions().granularity!="word")throw new Error('The segmenter passed must have a granularity of "word"');s=Array.from(a.intlSegmenter.segment(r),function(o){return o.segment})}else s=r.match(ys)||[];var i=[],l=null;return s.forEach(function(o){/\s/.test(o)?l==null?i.push(o):i.push(i.pop()+o):/\s/.test(l)?i[i.length-1]==l?i.push(i.pop()+o):i.push(l+o):i.push(o),l=o}),i};te.join=function(r){return r.map(function(a,s){return s==0?a:a.replace(/^\s+/,"")}).join("")};te.postProcess=function(r,a){if(!r||a.oneChangePerToken)return r;var s=null,i=null,l=null;return r.forEach(function(o){o.added?i=o:o.removed?l=o:((i||l)&&ui(s,l,i,o),s=o,i=null,l=null)}),(i||l)&&ui(s,l,i,null),r};function ui(r,a,s,i){if(a&&s){var l=a.value.match(/^\s*/)[0],o=a.value.match(/\s*$/)[0],f=s.value.match(/^\s*/)[0],w=s.value.match(/\s*$/)[0];if(r){var m=ai(l,f);r.value=Ee(r.value,f,m),a.value=zt(a.value,m),s.value=zt(s.value,m)}if(i){var L=ri(o,w);i.value=Te(i.value,w,L),a.value=Jt(a.value,L),s.value=Jt(s.value,L)}}else if(s)r&&(s.value=s.value.replace(/^\s*/,"")),i&&(i.value=i.value.replace(/^\s*/,""));else if(r&&i){var C=i.value.match(/^\s*/)[0],k=a.value.match(/^\s*/)[0],K=a.value.match(/\s*$/)[0],d=ai(C,k);a.value=zt(a.value,d);var g=ri(zt(C,d),K);a.value=Jt(a.value,g),i.value=Te(i.value,C,g),r.value=Ee(r.value,C,C.slice(0,C.length-g.length))}else if(i){var T=i.value.match(/^\s*/)[0],E=a.value.match(/\s*$/)[0],R=_i(E,T);a.value=Jt(a.value,R)}else if(r){var j=r.value.match(/\s*$/)[0],O=a.value.match(/^\s*/)[0],x=_i(j,O);a.value=zt(a.value,x)}}var ws=new vt;ws.tokenize=function(r){var a=new RegExp("(\\r?\\n)|[".concat(Yt,"]+|[^\\S\\n\\r]+|[^").concat(Yt,"]"),"ug");return r.match(a)||[]};var Se=new vt;Se.tokenize=function(r,a){a.stripTrailingCr&&(r=r.replace(/\r\n/g,`
`));var s=[],i=r.split(/(\n|\r\n)/);i[i.length-1]||i.pop();for(var l=0;l<i.length;l++){var o=i[l];l%2&&!a.newlineIsToken?s[s.length-1]+=o:s.push(o)}return s};Se.equals=function(r,a,s){return s.ignoreWhitespace?((!s.newlineIsToken||!r.includes(`
`))&&(r=r.trim()),(!s.newlineIsToken||!a.includes(`
`))&&(a=a.trim())):s.ignoreNewlineAtEof&&!s.newlineIsToken&&(r.endsWith(`
`)&&(r=r.slice(0,-1)),a.endsWith(`
`)&&(a=a.slice(0,-1))),vt.prototype.equals.call(this,r,a,s)};var xs=new vt;xs.tokenize=function(r){return r.split(/(\S.+?[.!?])(?=\s+|$)/)};var Ts=new vt;Ts.tokenize=function(r){return r.split(/([{}:;,]|\s+)/)};function Oe(r){"@babel/helpers - typeof";return Oe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Oe(r)}var Bt=new vt;Bt.useLongestToken=!0;Bt.tokenize=Se.tokenize;Bt.castInput=function(r,a){var s=a.undefinedReplacement,i=a.stringifyReplacer,l=i===void 0?function(o,f){return typeof f>"u"?s:f}:i;return typeof r=="string"?r:JSON.stringify(Ce(r,null,null,l),l,"  ")};Bt.equals=function(r,a,s){return vt.prototype.equals.call(Bt,r.replace(/,([\r\n])/g,"$1"),a.replace(/,([\r\n])/g,"$1"),s)};function Ce(r,a,s,i,l){a=a||[],s=s||[],i&&(r=i(l,r));var o;for(o=0;o<a.length;o+=1)if(a[o]===r)return s[o];var f;if(Object.prototype.toString.call(r)==="[object Array]"){for(a.push(r),f=new Array(r.length),s.push(f),o=0;o<r.length;o+=1)f[o]=Ce(r[o],a,s,i,l);return a.pop(),s.pop(),f}if(r&&r.toJSON&&(r=r.toJSON()),Oe(r)==="object"&&r!==null){a.push(r),f={},s.push(f);var w=[],m;for(m in r)Object.prototype.hasOwnProperty.call(r,m)&&w.push(m);for(w.sort(),o=0;o<w.length;o+=1)m=w[o],f[m]=Ce(r[m],a,s,i,m);a.pop(),s.pop()}else f=r;return f}var ke=new vt;ke.tokenize=function(r){return r.slice()};ke.join=ke.removeEmpty=function(r){return r};const Re={matching:vs.NONE,matchWordsThreshold:.25,maxLineLengthHighlight:1e4,diffStyle:ms.WORD,colorScheme:xe.LIGHT};Re.colorScheme;const Es=Object.assign(Object.assign({},Re),{renderNothingWhenEmpty:!1,matchingMaxComparisons:2500,maxLineSizeInBlockForComparison:200}),Os=Object.assign(Object.assign({},Re),{renderNothingWhenEmpty:!1,matchingMaxComparisons:2500,maxLineSizeInBlockForComparison:200});var ge={},oi;function Cs(){return oi||(oi=1,function(r){(function(a){var s=/\S/,i=/\"/g,l=/\n/g,o=/\r/g,f=/\\/g,w=/\u2028/,m=/\u2029/;a.tags={"#":1,"^":2,"<":3,$:4,"/":5,"!":6,">":7,"=":8,_v:9,"{":10,"&":11,_t:12},a.scan=function(v,y){var $=v.length,q=0,st=1,bt=2,M=q,Tt=null,Et=null,et="",J=[],Ot=!1,V=0,Rt=0,ft="{{",ht="}}";function pt(){et.length>0&&(J.push({tag:"_t",text:new String(et)}),et="")}function ee(){for(var at=!0,it=Rt;it<J.length;it++)if(at=a.tags[J[it].tag]<a.tags._v||J[it].tag=="_t"&&J[it].text.match(s)===null,!at)return!1;return at}function jt(at,it){if(pt(),at&&ee())for(var ct=Rt,rt;ct<J.length;ct++)J[ct].text&&((rt=J[ct+1])&&rt.tag==">"&&(rt.indent=J[ct].text.toString()),J.splice(ct,1));else it||J.push({tag:`
`});Ot=!1,Rt=J.length}function ie(at,it){var ct="="+ht,rt=at.indexOf(ct,it),nt=C(at.substring(at.indexOf("=",it)+1,rt)).split(" ");return ft=nt[0],ht=nt[nt.length-1],rt+ct.length-1}for(y&&(y=y.split(" "),ft=y[0],ht=y[1]),V=0;V<$;V++)M==q?k(ft,v,V)?(--V,pt(),M=st):v.charAt(V)==`
`?jt(Ot):et+=v.charAt(V):M==st?(V+=ft.length-1,Et=a.tags[v.charAt(V+1)],Tt=Et?v.charAt(V+1):"_v",Tt=="="?(V=ie(v,V),M=q):(Et&&V++,M=bt),Ot=V):k(ht,v,V)?(J.push({tag:Tt,n:C(et),otag:ft,ctag:ht,i:Tt=="/"?Ot-ft.length:V+ht.length}),et="",V+=ht.length-1,M=q,Tt=="{"&&(ht=="}}"?V++:L(J[J.length-1]))):et+=v.charAt(V);return jt(Ot,!0),J};function L(c){c.n.substr(c.n.length-1)==="}"&&(c.n=c.n.substring(0,c.n.length-1))}function C(c){return c.trim?c.trim():c.replace(/^\s*|\s*$/g,"")}function k(c,v,y){if(v.charAt(y)!=c.charAt(0))return!1;for(var $=1,q=c.length;$<q;$++)if(v.charAt(y+$)!=c.charAt($))return!1;return!0}var K={_t:!0,"\n":!0,$:!0,"/":!0};function d(c,v,y,$){var q=[],st=null,bt=null,M=null;for(bt=y[y.length-1];c.length>0;){if(M=c.shift(),bt&&bt.tag=="<"&&!(M.tag in K))throw new Error("Illegal content in < super tag.");if(a.tags[M.tag]<=a.tags.$||g(M,$))y.push(M),M.nodes=d(c,M.tag,y,$);else if(M.tag=="/"){if(y.length===0)throw new Error("Closing tag without opener: /"+M.n);if(st=y.pop(),M.n!=st.n&&!T(M.n,st.n,$))throw new Error("Nesting error: "+st.n+" vs. "+M.n);return st.end=M.i,q}else M.tag==`
`&&(M.last=c.length==0||c[0].tag==`
`);q.push(M)}if(y.length>0)throw new Error("missing closing tag: "+y.pop().n);return q}function g(c,v){for(var y=0,$=v.length;y<$;y++)if(v[y].o==c.n)return c.tag="#",!0}function T(c,v,y){for(var $=0,q=y.length;$<q;$++)if(y[$].c==c&&y[$].o==v)return!0}function E(c){var v=[];for(var y in c)v.push('"'+O(y)+'": function(c,p,t,i) {'+c[y]+"}");return"{ "+v.join(",")+" }"}function R(c){var v=[];for(var y in c.partials)v.push('"'+O(y)+'":{name:"'+O(c.partials[y].name)+'", '+R(c.partials[y])+"}");return"partials: {"+v.join(",")+"}, subs: "+E(c.subs)}a.stringify=function(c,v,y){return"{code: function (c,p,i) { "+a.wrapMain(c.code)+" },"+R(c)+"}"};var j=0;a.generate=function(c,v,y){j=0;var $={code:"",subs:{},partials:{}};return a.walk(c,$),y.asString?this.stringify($,v,y):this.makeTemplate($,v,y)},a.wrapMain=function(c){return'var t=this;t.b(i=i||"");'+c+"return t.fl();"},a.template=a.Template,a.makeTemplate=function(c,v,y){var $=this.makePartials(c);return $.code=new Function("c","p","i",this.wrapMain(c.code)),new this.template($,v,this,y)},a.makePartials=function(c){var v,y={subs:{},partials:c.partials,name:c.name};for(v in y.partials)y.partials[v]=this.makePartials(y.partials[v]);for(v in c.subs)y.subs[v]=new Function("c","p","t","i",c.subs[v]);return y};function O(c){return c.replace(f,"\\\\").replace(i,'\\"').replace(l,"\\n").replace(o,"\\r").replace(w,"\\u2028").replace(m,"\\u2029")}function x(c){return~c.indexOf(".")?"d":"f"}function I(c,v){var y="<"+(v.prefix||""),$=y+c.n+j++;return v.partials[$]={name:c.n,partials:{}},v.code+='t.b(t.rp("'+O($)+'",c,p,"'+(c.indent||"")+'"));',$}a.codegen={"#":function(c,v){v.code+="if(t.s(t."+x(c.n)+'("'+O(c.n)+'",c,p,1),c,p,0,'+c.i+","+c.end+',"'+c.otag+" "+c.ctag+'")){t.rs(c,p,function(c,p,t){',a.walk(c.nodes,v),v.code+="});c.pop();}"},"^":function(c,v){v.code+="if(!t.s(t."+x(c.n)+'("'+O(c.n)+'",c,p,1),c,p,1,0,0,"")){',a.walk(c.nodes,v),v.code+="};"},">":I,"<":function(c,v){var y={partials:{},code:"",subs:{},inPartial:!0};a.walk(c.nodes,y);var $=v.partials[I(c,v)];$.subs=y.subs,$.partials=y.partials},$:function(c,v){var y={subs:{},code:"",partials:v.partials,prefix:c.n};a.walk(c.nodes,y),v.subs[c.n]=y.code,v.inPartial||(v.code+='t.sub("'+O(c.n)+'",c,p,i);')},"\n":function(c,v){v.code+=Z('"\\n"'+(c.last?"":" + i"))},_v:function(c,v){v.code+="t.b(t.v(t."+x(c.n)+'("'+O(c.n)+'",c,p,0)));'},_t:function(c,v){v.code+=Z('"'+O(c.text)+'"')},"{":z,"&":z};function z(c,v){v.code+="t.b(t.t(t."+x(c.n)+'("'+O(c.n)+'",c,p,0)));'}function Z(c){return"t.b("+c+");"}a.walk=function(c,v){for(var y,$=0,q=c.length;$<q;$++)y=a.codegen[c[$].tag],y&&y(c[$],v);return v},a.parse=function(c,v,y){return y=y||{},d(c,"",[],y.sectionTags||[])},a.cache={},a.cacheKey=function(c,v){return[c,!!v.asString,!!v.disableLambda,v.delimiters,!!v.modelGet].join("||")},a.compile=function(c,v){v=v||{};var y=a.cacheKey(c,v),$=this.cache[y];if($){var q=$.partials;for(var st in q)delete q[st].instance;return $}return $=this.generate(this.parse(this.scan(c,v.delimiters),c,v),c,v),this.cache[y]=$}})(r)}(ge)),ge}var ve={},li;function ks(){return li||(li=1,function(r){(function(a){a.Template=function(d,g,T,E){d=d||{},this.r=d.code||this.r,this.c=T,this.options=E||{},this.text=g||"",this.partials=d.partials||{},this.subs=d.subs||{},this.buf=""},a.Template.prototype={r:function(d,g,T){return""},v:k,t:C,render:function(g,T,E){return this.ri([g],T||{},E)},ri:function(d,g,T){return this.r(d,g,T)},ep:function(d,g){var T=this.partials[d],E=g[T.name];if(T.instance&&T.base==E)return T.instance;if(typeof E=="string"){if(!this.c)throw new Error("No compiler available.");E=this.c.compile(E,this.options)}if(!E)return null;if(this.partials[d].base=E,T.subs){g.stackText||(g.stackText={});for(key in T.subs)g.stackText[key]||(g.stackText[key]=this.activeSub!==void 0&&g.stackText[this.activeSub]?g.stackText[this.activeSub]:this.text);E=i(E,T.subs,T.partials,this.stackSubs,this.stackPartials,g.stackText)}return this.partials[d].instance=E,E},rp:function(d,g,T,E){var R=this.ep(d,T);return R?R.ri(g,T,E):""},rs:function(d,g,T){var E=d[d.length-1];if(!K(E)){T(d,g,this);return}for(var R=0;R<E.length;R++)d.push(E[R]),T(d,g,this),d.pop()},s:function(d,g,T,E,R,j,O){var x;return K(d)&&d.length===0?!1:(typeof d=="function"&&(d=this.ms(d,g,T,E,R,j,O)),x=!!d,!E&&x&&g&&g.push(typeof d=="object"?d:g[g.length-1]),x)},d:function(d,g,T,E){var R,j=d.split("."),O=this.f(j[0],g,T,E),x=this.options.modelGet,I=null;if(d==="."&&K(g[g.length-2]))O=g[g.length-1];else for(var z=1;z<j.length;z++)R=s(j[z],O,x),R!==void 0?(I=O,O=R):O="";return E&&!O?!1:(!E&&typeof O=="function"&&(g.push(I),O=this.mv(O,g,T),g.pop()),O)},f:function(d,g,T,E){for(var R=!1,j=null,O=!1,x=this.options.modelGet,I=g.length-1;I>=0;I--)if(j=g[I],R=s(d,j,x),R!==void 0){O=!0;break}return O?(!E&&typeof R=="function"&&(R=this.mv(R,g,T)),R):E?!1:""},ls:function(d,g,T,E,R){var j=this.options.delimiters;return this.options.delimiters=R,this.b(this.ct(C(d.call(g,E)),g,T)),this.options.delimiters=j,!1},ct:function(d,g,T){if(this.options.disableLambda)throw new Error("Lambda features disabled.");return this.c.compile(d,this.options).render(g,T)},b:function(d){this.buf+=d},fl:function(){var d=this.buf;return this.buf="",d},ms:function(d,g,T,E,R,j,O){var x,I=g[g.length-1],z=d.call(I);return typeof z=="function"?E?!0:(x=this.activeSub&&this.subsText&&this.subsText[this.activeSub]?this.subsText[this.activeSub]:this.text,this.ls(z,I,T,x.substring(R,j),O)):z},mv:function(d,g,T){var E=g[g.length-1],R=d.call(E);return typeof R=="function"?this.ct(C(R.call(E)),E,T):R},sub:function(d,g,T,E){var R=this.subs[d];R&&(this.activeSub=d,R(g,T,this,E),this.activeSub=!1)}};function s(d,g,T){var E;return g&&typeof g=="object"&&(g[d]!==void 0?E=g[d]:T&&g.get&&typeof g.get=="function"&&(E=g.get(d))),E}function i(d,g,T,E,R,j){function O(){}O.prototype=d;function x(){}x.prototype=d.subs;var I,z=new O;z.subs=new x,z.subsText={},z.buf="",E=E||{},z.stackSubs=E,z.subsText=j;for(I in g)E[I]||(E[I]=g[I]);for(I in E)z.subs[I]=E[I];R=R||{},z.stackPartials=R;for(I in T)R[I]||(R[I]=T[I]);for(I in R)z.partials[I]=R[I];return z}var l=/&/g,o=/</g,f=/>/g,w=/\'/g,m=/\"/g,L=/[&<>\"\']/;function C(d){return String(d??"")}function k(d){return d=C(d),L.test(d)?d.replace(l,"&amp;").replace(o,"&lt;").replace(f,"&gt;").replace(w,"&#39;").replace(m,"&quot;"):d}var K=Array.isArray||function(d){return Object.prototype.toString.call(d)==="[object Array]"}})(r)}(ve)),ve}var me,fi;function Ss(){if(fi)return me;fi=1;var r=Cs();return r.Template=ks().Template,r.template=r.Template,me=r,me}var Q=Ss();new Q.Template({code:function(r,a,s){var i=this;return i.b(s=s||""),i.b('<li class="d2h-file-list-line">'),i.b(`
`+s),i.b('    <span class="d2h-file-name-wrapper">'),i.b(`
`+s),i.b(i.rp("<fileIcon0",r,a,"      ")),i.b('      <a href="#'),i.b(i.v(i.f("fileHtmlId",r,a,0))),i.b('" class="d2h-file-name">'),i.b(i.v(i.f("fileName",r,a,0))),i.b("</a>"),i.b(`
`+s),i.b('      <span class="d2h-file-stats">'),i.b(`
`+s),i.b('          <span class="d2h-lines-added">'),i.b(i.v(i.f("addedLines",r,a,0))),i.b("</span>"),i.b(`
`+s),i.b('          <span class="d2h-lines-deleted">'),i.b(i.v(i.f("deletedLines",r,a,0))),i.b("</span>"),i.b(`
`+s),i.b("      </span>"),i.b(`
`+s),i.b("    </span>"),i.b(`
`+s),i.b("</li>"),i.fl()},partials:{"<fileIcon0":{name:"fileIcon",partials:{},subs:{}}},subs:{}});new Q.Template({code:function(r,a,s){var i=this;return i.b(s=s||""),i.b('<div class="d2h-file-list-wrapper '),i.b(i.v(i.f("colorScheme",r,a,0))),i.b('">'),i.b(`
`+s),i.b('    <div class="d2h-file-list-header">'),i.b(`
`+s),i.b('        <span class="d2h-file-list-title">Files changed ('),i.b(i.v(i.f("filesNumber",r,a,0))),i.b(")</span>"),i.b(`
`+s),i.b('        <a class="d2h-file-switch d2h-hide">hide</a>'),i.b(`
`+s),i.b('        <a class="d2h-file-switch d2h-show">show</a>'),i.b(`
`+s),i.b("    </div>"),i.b(`
`+s),i.b('    <ol class="d2h-file-list">'),i.b(`
`+s),i.b("    "),i.b(i.t(i.f("files",r,a,0))),i.b(`
`+s),i.b("    </ol>"),i.b(`
`+s),i.b("</div>"),i.fl()},partials:{},subs:{}});new Q.Template({code:function(r,a,s){var i=this;return i.b(s=s||""),i.b("<tr>"),i.b(`
`+s),i.b('    <td class="'),i.b(i.v(i.f("lineClass",r,a,0))),i.b(" "),i.b(i.v(i.d("CSSLineClass.INFO",r,a,0))),i.b('"></td>'),i.b(`
`+s),i.b('    <td class="'),i.b(i.v(i.d("CSSLineClass.INFO",r,a,0))),i.b('">'),i.b(`
`+s),i.b('        <div class="'),i.b(i.v(i.f("contentClass",r,a,0))),i.b('">'),i.s(i.f("blockHeader",r,a,1),r,a,0,156,173,"{{ }}")&&(i.rs(r,a,function(l,o,f){f.b(f.t(f.f("blockHeader",l,o,0)))}),r.pop()),i.s(i.f("blockHeader",r,a,1),r,a,1,0,0,"")||i.b("&nbsp;"),i.b("</div>"),i.b(`
`+s),i.b("    </td>"),i.b(`
`+s),i.b("</tr>"),i.fl()},partials:{},subs:{}});new Q.Template({code:function(r,a,s){var i=this;return i.b(s=s||""),i.b("<tr>"),i.b(`
`+s),i.b('    <td class="'),i.b(i.v(i.d("CSSLineClass.INFO",r,a,0))),i.b('">'),i.b(`
`+s),i.b('        <div class="'),i.b(i.v(i.f("contentClass",r,a,0))),i.b('">'),i.b(`
`+s),i.b("            File without changes"),i.b(`
`+s),i.b("        </div>"),i.b(`
`+s),i.b("    </td>"),i.b(`
`+s),i.b("</tr>"),i.fl()},partials:{},subs:{}});new Q.Template({code:function(r,a,s){var i=this;return i.b(s=s||""),i.b('<span class="d2h-file-name-wrapper">'),i.b(`
`+s),i.b(i.rp("<fileIcon0",r,a,"    ")),i.b('    <span class="d2h-file-name">'),i.b(i.v(i.f("fileDiffName",r,a,0))),i.b("</span>"),i.b(`
`+s),i.b(i.rp("<fileTag1",r,a,"    ")),i.b("</span>"),i.b(`
`+s),i.b('<label class="d2h-file-collapse">'),i.b(`
`+s),i.b('    <input class="d2h-file-collapse-input" type="checkbox" name="viewed" value="viewed">'),i.b(`
`+s),i.b("    Viewed"),i.b(`
`+s),i.b("</label>"),i.fl()},partials:{"<fileIcon0":{name:"fileIcon",partials:{},subs:{}},"<fileTag1":{name:"fileTag",partials:{},subs:{}}},subs:{}});new Q.Template({code:function(r,a,s){var i=this;return i.b(s=s||""),i.b("<tr>"),i.b(`
`+s),i.b('    <td class="'),i.b(i.v(i.f("lineClass",r,a,0))),i.b(" "),i.b(i.v(i.f("type",r,a,0))),i.b('">'),i.b(`
`+s),i.b("      "),i.b(i.t(i.f("lineNumber",r,a,0))),i.b(`
`+s),i.b("    </td>"),i.b(`
`+s),i.b('    <td class="'),i.b(i.v(i.f("type",r,a,0))),i.b('">'),i.b(`
`+s),i.b('        <div class="'),i.b(i.v(i.f("contentClass",r,a,0))),i.b('">'),i.b(`
`+s),i.s(i.f("prefix",r,a,1),r,a,0,162,238,"{{ }}")&&(i.rs(r,a,function(l,o,f){f.b('            <span class="d2h-code-line-prefix">'),f.b(f.t(f.f("prefix",l,o,0))),f.b("</span>"),f.b(`
`+s)}),r.pop()),i.s(i.f("prefix",r,a,1),r,a,1,0,0,"")||(i.b('            <span class="d2h-code-line-prefix">&nbsp;</span>'),i.b(`
`+s)),i.s(i.f("content",r,a,1),r,a,0,371,445,"{{ }}")&&(i.rs(r,a,function(l,o,f){f.b('            <span class="d2h-code-line-ctn">'),f.b(f.t(f.f("content",l,o,0))),f.b("</span>"),f.b(`
`+s)}),r.pop()),i.s(i.f("content",r,a,1),r,a,1,0,0,"")||(i.b('            <span class="d2h-code-line-ctn"><br></span>'),i.b(`
`+s)),i.b("        </div>"),i.b(`
`+s),i.b("    </td>"),i.b(`
`+s),i.b("</tr>"),i.fl()},partials:{},subs:{}});new Q.Template({code:function(r,a,s){var i=this;return i.b(s=s||""),i.b('<div class="d2h-wrapper '),i.b(i.v(i.f("colorScheme",r,a,0))),i.b('">'),i.b(`
`+s),i.b("    "),i.b(i.t(i.f("content",r,a,0))),i.b(`
`+s),i.b("</div>"),i.fl()},partials:{},subs:{}});new Q.Template({code:function(r,a,s){var i=this;return i.b(s=s||""),i.b('<svg aria-hidden="true" class="d2h-icon d2h-added" height="16" title="added" version="1.1" viewBox="0 0 14 16"'),i.b(`
`+s),i.b('     width="14">'),i.b(`
`+s),i.b('    <path d="M13 1H1C0.45 1 0 1.45 0 2v12c0 0.55 0.45 1 1 1h12c0.55 0 1-0.45 1-1V2c0-0.55-0.45-1-1-1z m0 13H1V2h12v12zM6 9H3V7h3V4h2v3h3v2H8v3H6V9z"></path>'),i.b(`
`+s),i.b("</svg>"),i.fl()},partials:{},subs:{}});new Q.Template({code:function(r,a,s){var i=this;return i.b(s=s||""),i.b('<svg aria-hidden="true" class="d2h-icon d2h-changed" height="16" title="modified" version="1.1"'),i.b(`
`+s),i.b('     viewBox="0 0 14 16" width="14">'),i.b(`
`+s),i.b('    <path d="M13 1H1C0.45 1 0 1.45 0 2v12c0 0.55 0.45 1 1 1h12c0.55 0 1-0.45 1-1V2c0-0.55-0.45-1-1-1z m0 13H1V2h12v12zM4 8c0-1.66 1.34-3 3-3s3 1.34 3 3-1.34 3-3 3-3-1.34-3-3z"></path>'),i.b(`
`+s),i.b("</svg>"),i.fl()},partials:{},subs:{}});new Q.Template({code:function(r,a,s){var i=this;return i.b(s=s||""),i.b('<svg aria-hidden="true" class="d2h-icon d2h-deleted" height="16" title="removed" version="1.1"'),i.b(`
`+s),i.b('     viewBox="0 0 14 16" width="14">'),i.b(`
`+s),i.b('    <path d="M13 1H1C0.45 1 0 1.45 0 2v12c0 0.55 0.45 1 1 1h12c0.55 0 1-0.45 1-1V2c0-0.55-0.45-1-1-1z m0 13H1V2h12v12zM11 9H3V7h8v2z"></path>'),i.b(`
`+s),i.b("</svg>"),i.fl()},partials:{},subs:{}});new Q.Template({code:function(r,a,s){var i=this;return i.b(s=s||""),i.b('<svg aria-hidden="true" class="d2h-icon d2h-moved" height="16" title="renamed" version="1.1"'),i.b(`
`+s),i.b('     viewBox="0 0 14 16" width="14">'),i.b(`
`+s),i.b('    <path d="M6 9H3V7h3V4l5 4-5 4V9z m8-7v12c0 0.55-0.45 1-1 1H1c-0.55 0-1-0.45-1-1V2c0-0.55 0.45-1 1-1h12c0.55 0 1 0.45 1 1z m-1 0H1v12h12V2z"></path>'),i.b(`
`+s),i.b("</svg>"),i.fl()},partials:{},subs:{}});new Q.Template({code:function(r,a,s){var i=this;return i.b(s=s||""),i.b('<svg aria-hidden="true" class="d2h-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12">'),i.b(`
`+s),i.b('    <path d="M6 5H2v-1h4v1zM2 8h7v-1H2v1z m0 2h7v-1H2v1z m0 2h7v-1H2v1z m10-7.5v9.5c0 0.55-0.45 1-1 1H1c-0.55 0-1-0.45-1-1V2c0-0.55 0.45-1 1-1h7.5l3.5 3.5z m-1 0.5L8 2H1v12h10V5z"></path>'),i.b(`
`+s),i.b("</svg>"),i.fl()},partials:{},subs:{}});new Q.Template({code:function(r,a,s){var i=this;return i.b(s=s||""),i.b('<div id="'),i.b(i.v(i.f("fileHtmlId",r,a,0))),i.b('" class="d2h-file-wrapper" data-lang="'),i.b(i.v(i.d("file.language",r,a,0))),i.b('">'),i.b(`
`+s),i.b('    <div class="d2h-file-header">'),i.b(`
`+s),i.b("    "),i.b(i.t(i.f("filePath",r,a,0))),i.b(`
`+s),i.b("    </div>"),i.b(`
`+s),i.b('    <div class="d2h-file-diff">'),i.b(`
`+s),i.b('        <div class="d2h-code-wrapper">'),i.b(`
`+s),i.b('            <table class="d2h-diff-table">'),i.b(`
`+s),i.b('                <tbody class="d2h-diff-tbody">'),i.b(`
`+s),i.b("                "),i.b(i.t(i.f("diffs",r,a,0))),i.b(`
`+s),i.b("                </tbody>"),i.b(`
`+s),i.b("            </table>"),i.b(`
`+s),i.b("        </div>"),i.b(`
`+s),i.b("    </div>"),i.b(`
`+s),i.b("</div>"),i.fl()},partials:{},subs:{}});new Q.Template({code:function(r,a,s){var i=this;return i.b(s=s||""),i.b('<div class="line-num1">'),i.b(i.v(i.f("oldNumber",r,a,0))),i.b("</div>"),i.b(`
`+s),i.b('<div class="line-num2">'),i.b(i.v(i.f("newNumber",r,a,0))),i.b("</div>"),i.fl()},partials:{},subs:{}});new Q.Template({code:function(r,a,s){var i=this;return i.b(s=s||""),i.b('<div id="'),i.b(i.v(i.f("fileHtmlId",r,a,0))),i.b('" class="d2h-file-wrapper" data-lang="'),i.b(i.v(i.d("file.language",r,a,0))),i.b('">'),i.b(`
`+s),i.b('    <div class="d2h-file-header">'),i.b(`
`+s),i.b("      "),i.b(i.t(i.f("filePath",r,a,0))),i.b(`
`+s),i.b("    </div>"),i.b(`
`+s),i.b('    <div class="d2h-files-diff">'),i.b(`
`+s),i.b('        <div class="d2h-file-side-diff">'),i.b(`
`+s),i.b('            <div class="d2h-code-wrapper">'),i.b(`
`+s),i.b('                <table class="d2h-diff-table">'),i.b(`
`+s),i.b('                    <tbody class="d2h-diff-tbody">'),i.b(`
`+s),i.b("                    "),i.b(i.t(i.d("diffs.left",r,a,0))),i.b(`
`+s),i.b("                    </tbody>"),i.b(`
`+s),i.b("                </table>"),i.b(`
`+s),i.b("            </div>"),i.b(`
`+s),i.b("        </div>"),i.b(`
`+s),i.b('        <div class="d2h-file-side-diff">'),i.b(`
`+s),i.b('            <div class="d2h-code-wrapper">'),i.b(`
`+s),i.b('                <table class="d2h-diff-table">'),i.b(`
`+s),i.b('                    <tbody class="d2h-diff-tbody">'),i.b(`
`+s),i.b("                    "),i.b(i.t(i.d("diffs.right",r,a,0))),i.b(`
`+s),i.b("                    </tbody>"),i.b(`
`+s),i.b("                </table>"),i.b(`
`+s),i.b("            </div>"),i.b(`
`+s),i.b("        </div>"),i.b(`
`+s),i.b("    </div>"),i.b(`
`+s),i.b("</div>"),i.fl()},partials:{},subs:{}});new Q.Template({code:function(r,a,s){var i=this;return i.b(s=s||""),i.b('<span class="d2h-tag d2h-added d2h-added-tag">ADDED</span>'),i.fl()},partials:{},subs:{}});new Q.Template({code:function(r,a,s){var i=this;return i.b(s=s||""),i.b('<span class="d2h-tag d2h-changed d2h-changed-tag">CHANGED</span>'),i.fl()},partials:{},subs:{}});new Q.Template({code:function(r,a,s){var i=this;return i.b(s=s||""),i.b('<span class="d2h-tag d2h-deleted d2h-deleted-tag">DELETED</span>'),i.fl()},partials:{},subs:{}});new Q.Template({code:function(r,a,s){var i=this;return i.b(s=s||""),i.b('<span class="d2h-tag d2h-moved d2h-moved-tag">RENAMED</span>'),i.fl()},partials:{},subs:{}});Object.assign(Object.assign(Object.assign({},Es),Os),{outputFormat:gs.LINE_BY_LINE,drawFileList:!0});const Rs={class:"pagebox"},As={style:{width:"100%",height:"800px"}},Ns={__name:"demo",setup(r){const a=de([{id:1,name:"苹果"},{id:2,name:"香蕉"},{id:3,name:"橙子"}]),s=de(null);Fn(()=>{s.value&&new Xn(s.value,{animation:150,onEnd:l=>{const o=a.value.splice(l.oldIndex,1)[0];a.value.splice(l.newIndex,0,o),console.log(a.value)}})});const i=de(localStorage.getItem("COMMON__MARKDOWN_EDITOR__TEXT")||"");return(l,o)=>{const f=Jn("v-md-editor");return Hn(),Gn("div",Rs,[qn("div",As,[Qn(f,{height:"800px",style:{width:"100%"},modelValue:i.value,"onUpdate:modelValue":o[0]||(o[0]=w=>i.value=w)},null,8,["modelValue"])])])}}},zs=Kn(Ns,[["__scopeId","data-v-f74a1905"]]);export{zs as default};
