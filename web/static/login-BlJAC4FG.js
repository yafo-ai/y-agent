import{r as k,aR as S,h as U,U as Y,z as c,B as n,aT as F,L as p,R as t,E as N,I as B,J as u,a4 as q,W as $,al as b,u as C,aS as R,A as m,Q as T,O as h}from"./vue-CdYMfVVj.js";import{_ as X,u as A,i as w,$ as G,a0 as L}from"./index-B6WbZO8q.js";import"./element-GwJlJi_X.js";import"./editor-Dhn2M38E.js";const D={class:"gradient-bg"},I={class:"pagelogin c-pagelogin"},E={class:"rbox"},K={class:"loginbox"},O={key:0,class:"c-logo"},P={key:0,class:"regtitle"},J={key:1,style:{"margin-top":"30px"},class:"linkbox"},Q={key:2,style:{"margin-top":"65px"},class:"linkbox"},W={key:5,class:"sflogin"},j={href:"https://github.com/yafo-ai",target:"_blank"},H={href:"https://gitee.com/yafo-ai",target:"_blank"},Z={href:"http://112.126.109.80/",target:"_blank"},ee={href:"http://112.126.109.80/docs",target:"_blank"},te={__name:"login",setup(ae){const M=S(),_=R(),a=k({username:"",password:"",nickname:"",email:"",phone:""}),f=A(),i=k(M.path==="/login"),x=l=>{l&&l.validate(async(e,s)=>{e&&V({username:a.value.username,password:a.value.password})})},V=async(l,e)=>{var o,g;let s=await L(l);if(s&&s.token){window.localStorage.setItem("username",l.username),f.commit("username",l.username),f.commit("token",s.token),f.commit("userData",s),e||_this.$message("登录成功","success");let v="/";const d=(g=(o=f.getters.routeData)==null?void 0:o.from)==null?void 0:g.fullPath;d&&d!=="/login"&&(v=d),_.push(v)}},z=l=>{l&&l.validate(async(e,s)=>{if(e){let o=await G(a.value);o&&o.result==="success"&&(_this.$message("注册成功","success"),V({username:a.value.username,password:a.value.password},!0))}})};f.commit("token","");const y=k(null);return U(()=>{const l=document.querySelector(".interactive");let e=0,s=0,o=0,g=0;const v=()=>{l&&(e+=(o-e)/20,s+=(g-s)/20,l.style.transform=`translate(${Math.round(e)}px, ${Math.round(s)}px)`,requestAnimationFrame(v))};window.addEventListener("mousemove",d=>{o=d.clientX,g=d.clientY}),v()}),Y(()=>{window.removeEventListener("mousemove",l=>{tgX=l.clientX,tgY=l.clientY})}),(l,e)=>{const s=b("el-input"),o=b("el-form-item"),g=b("el-form"),v=b("el-link"),d=b("el-button");return m(),c("div",D,[n("div",I,[e[16]||(e[16]=n("div",{class:"bg"},null,-1)),n("div",E,[n("div",K,[i.value?(m(),c("div",O,[t(w,{type:"logo",width:"300",height:"120"})])):p("",!0),n("div",{class:N([{regbox:!i.value},"formbox"])},[i.value?p("",!0):(m(),c("div",P,"注册")),t(g,{model:a.value,ref_key:"fromModel",ref:y,"label-width":"auto","label-position":"top",onSubmit:e[5]||(e[5]=$(()=>{},["prevent"])),onKeyup:e[6]||(e[6]=q($(r=>x(y.value),["prevent"]),["native","enter"])),style:{width:"100%"},class:"tl"},{default:u(()=>[t(o,{label:"用户名:",rules:[{required:!0,message:"请输入用户名",trigger:"blur"}],prop:"username"},{default:u(()=>[t(s,{size:"large",modelValue:a.value.username,"onUpdate:modelValue":e[0]||(e[0]=r=>a.value.username=r),placeholder:""},null,8,["modelValue"])]),_:1}),t(o,{label:"密码:",rules:[{required:!0,message:"请输入密码",trigger:"blur"}],prop:"password"},{default:u(()=>[t(s,{size:"large",modelValue:a.value.password,"onUpdate:modelValue":e[1]||(e[1]=r=>a.value.password=r),"show-password":"",type:"password",placeholder:""},null,8,["modelValue"])]),_:1}),i.value?p("",!0):(m(),c(T,{key:0},[t(o,{prop:"nickname",label:"昵称:"},{default:u(()=>[t(s,{size:"large",modelValue:a.value.nickname,"onUpdate:modelValue":e[2]||(e[2]=r=>a.value.nickname=r),placeholder:""},null,8,["modelValue"])]),_:1}),t(o,{prop:"email",rules:[{type:"email",message:"请输入有效的邮箱地址",trigger:["blur"]}],label:"邮箱:"},{default:u(()=>[t(s,{size:"large",modelValue:a.value.email,"onUpdate:modelValue":e[3]||(e[3]=r=>a.value.email=r),placeholder:""},null,8,["modelValue"])]),_:1}),t(o,{prop:"phone",rules:[{pattern:/^1[0123456789]\d{9}$/,message:"请输入有效的手机号码",trigger:["blur"]}],label:"手机号:"},{default:u(()=>[t(s,{size:"large",modelValue:a.value.phone,"onUpdate:modelValue":e[4]||(e[4]=r=>a.value.phone=r),placeholder:""},null,8,["modelValue"])]),_:1})],64))]),_:1},8,["model"]),i.value?p("",!0):(m(),c("div",J,[t(v,{style:{color:"#a2a2a2"},onClick:e[7]||(e[7]=r=>{C(_).replace("/login"),i.value=!i.value}),type:"primary"},{default:u(()=>e[11]||(e[11]=[h(" 已有账号？去登录 ")])),_:1})])),i.value?(m(),c("div",Q,[t(v,{style:{color:"#a2a2a2"},onClick:e[8]||(e[8]=r=>{C(_).replace("/reg"),i.value=!i.value}),type:"primary"},{default:u(()=>e[12]||(e[12]=[h(" 没有账号？去注册 ")])),_:1})])):p("",!0),i.value?(m(),B(d,{key:3,style:{width:"100%"},onClick:e[9]||(e[9]=r=>x(y.value)),size:"large",type:"primary"},{default:u(()=>e[13]||(e[13]=[h("登录")])),_:1})):p("",!0),i.value?p("",!0):(m(),B(d,{key:4,style:{width:"100%","margin-top":"0px"},onClick:e[10]||(e[10]=r=>z(y.value)),size:"large",type:"primary"},{default:u(()=>e[14]||(e[14]=[h("注册并登录")])),_:1})),i.value?(m(),c("div",W,[n("a",j,[t(w,{width:"30",height:"30",type:"github"})]),n("a",H,[t(w,{width:"32",height:"32",type:"loginmy"})]),n("a",Z,[t(w,{width:"32",height:"32",type:"logingw"})]),n("a",ee,[t(w,{width:"32",height:"32",type:"logindoc"})])])):p("",!0),e[15]||(e[15]=n("div",{class:"tip"},[n("span",null,"© Copyright 向量感知（北京）智能科技有限公司 YAFO 2025.")],-1))],2)])])]),e[17]||(e[17]=F('<svg viewBox="0 0 100vw 100vw" xmlns="http://www.w3.org/2000/svg" class="noiseBg" data-v-1010c33b><filter id="noiseFilterBg" data-v-1010c33b><feTurbulence type="fractalNoise" baseFrequency="0.6" stitchTiles="stitch" data-v-1010c33b></feTurbulence></filter><rect width="100%" height="100%" preserveAspectRatio="xMidYMid meet" filter="url(#noiseFilterBg)" data-v-1010c33b></rect></svg><svg xmlns="http://www.w3.org/2000/svg" class="svgBlur" data-v-1010c33b><defs data-v-1010c33b><filter id="goo" data-v-1010c33b><feGaussianBlur in="SourceGraphic" stdDeviation="10" result="blur" data-v-1010c33b></feGaussianBlur><feColorMatrix in="blur" mode="matrix" values="1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 18 -8" result="goo" data-v-1010c33b></feColorMatrix><feBlend in="SourceGraphic" in2="goo" data-v-1010c33b></feBlend></filter></defs></svg><div class="gradients-container" data-v-1010c33b><div class="g1" data-v-1010c33b></div><div class="g2" data-v-1010c33b></div><div class="g3" data-v-1010c33b></div><div class="g4" data-v-1010c33b></div><div class="g5" data-v-1010c33b></div><div class="interactive" data-v-1010c33b></div></div>',3))])}}},ie=X(te,[["__scopeId","data-v-1010c33b"]]);export{ie as default};
