import{_ as R,u as I}from"./index-B6WbZO8q.js";import{r as m,j as T,I as $,J as d,B as a,z as r,P as c,O as y,R as v,al as g,aR as j,aS as A,A as i}from"./vue-CdYMfVVj.js";const O={class:"treedialog"},z={key:0,class:"treebox"},E={class:"title"},F={key:1,class:"treebox"},J={class:"title"},P={key:0},U={key:1,class:"empty"},q={class:"treecontent"},G={class:"custom-tree-node"},H={class:"ellipsis"},K={class:"treebox"},L={class:"title"},M={key:0},Q={key:1,class:"empty"},W={class:"treecontent"},X={class:"custom-tree-node"},Y={class:"ellipsis"},Z={class:"dialog-footer"},ee={__name:"changeTree",props:{id:{type:[String,Number],default:()=>0},title:{type:[String,Number],default:"调整类目"},val:{type:[String,Number],default:""},item:{type:Object,default:()=>null},dataSource:{type:Array,default:()=>[]},modelValue:{type:Boolean,default:!1}},emits:["subfn","update:modelValue"],setup(f,{emit:w}){const h=f,b=w;j(),A(),I();const p=m(!1);T(()=>h.modelValue,async(t,e)=>{t!==e&&t&&B(h.item),p.value=t});const x=()=>{b("update:modelValue",!1)},D=t=>{if(!u.value&&(!s.value||s.value.id===void 0)||!n.value||n.value.id===void 0)return window._this.$message("请选择当前类目以及目标类目","warning"),!1;b("subfn",{curcateData:s.value,curcateData1:n.value,curDomid:u.value})},s=m({}),n=m({}),u=m(""),C=m(""),B=t=>{u.value="",t&&(u.value=t.id,C.value=t.category_id?V(h.dataSource,t.category_id).name:"未分类"),n.value={},s.value={},p.value=!0};function V(t,e){for(let l=0;l<t.length;l++){if(t[l].id==e)return t[l];if(t[l].children&&t[l].children.length>0){let _=V(t[l].children,e);if(_)return _}}return null}return(t,e)=>{const l=g("el-tree"),_=g("el-scrollbar"),S=g("el-button"),N=g("el-dialog");return i(),$(N,{"align-center":"",modelValue:p.value,"onUpdate:modelValue":e[4]||(e[4]=o=>p.value=o),title:f.title,onClosed:x,width:"900"},{footer:d(()=>[a("div",Z,[v(S,{onClick:e[2]||(e[2]=o=>x())},{default:d(()=>e[7]||(e[7]=[y("取消")])),_:1}),v(S,{type:"primary",onClick:e[3]||(e[3]=o=>D())},{default:d(()=>e[8]||(e[8]=[y(" 确定 ")])),_:1})])]),default:d(()=>[a("div",O,[u.value?(i(),r("div",z,[a("div",E," 当前类目： "+c(C.value||"未分类"),1),e[5]||(e[5]=a("div",{class:"treecontent"},null,-1))])):(i(),r("div",F,[a("div",J,[y(" 当前类目： "+c(u.value),1),s.value?(i(),r("span",P,c(s.value.name),1)):(i(),r("span",U,"请选择当前类目"))]),a("div",q,[v(_,null,{default:d(()=>[v(l,{style:{width:"100%"},data:f.dataSource,onCurrentChange:e[0]||(e[0]=o=>{s.value=o}),"current-node-key":s.value.id,"node-key":"id","empty-text":"暂无商品类目信息","highlight-current":"","default-expand-all":"","expand-on-click-node":!1},{default:d(({node:o,data:k})=>[a("div",G,[a("span",H,c(k.name),1)])]),_:1},8,["data","current-node-key"])]),_:1})])])),a("div",K,[a("div",L,[e[6]||(e[6]=y(" 目标类目：")),n.value?(i(),r("span",M,c(n.value.name),1)):(i(),r("span",Q,"请选择目标类目"))]),a("div",W,[v(_,null,{default:d(()=>[v(l,{style:{width:"100%"},data:f.dataSource,"node-key":"id","current-node-key":n.value.id,onCurrentChange:e[1]||(e[1]=o=>{n.value=o}),"empty-text":"暂无商品类目信息","highlight-current":"","default-expand-all":"","expand-on-click-node":!1},{default:d(({node:o,data:k})=>[a("div",X,[a("span",Y,c(k.name),1)])]),_:1},8,["data","current-node-key"])]),_:1})])])])]),_:1},8,["modelValue","title"])}}},le=R(ee,[["__scopeId","data-v-b4575416"]]);export{le as C};
