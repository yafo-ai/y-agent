import{g as S,r as p,aR as D,l as E,z as g,B as s,R as o,J as n,al as r,Q as A,aS as Z,A as b,O as _,a6 as K,u as T,W as Y,D as G,P as y,L as J}from"./vue-CdYMfVVj.js";import{_ as Q,E as W,u as j,F as H,G as X}from"./index-B6WbZO8q.js";import"./element-GwJlJi_X.js";import"./editor-Dhn2M38E.js";const ee={class:"c-titlebox"},le={class:"btns"},te={class:"scrollbox"},oe={class:"c-cardbox"},ae=["onClick"],ne=["onClick"],se=["onClick"],re={class:"title ellipsis"},ie={class:"intro ellipsis3"},pe=["title"],de=["title"],ue={class:"dformbox c-form-alignleft"},me={class:"dialog-footer"},fe={__name:"list",props:{proType:{type:[String,Number],default:()=>""},isCheck:{type:[Boolean],default:()=>!1},checkList:{type:[Array],default:()=>[]}},emits:["subfn"],setup(_e,{emit:ce}){const c=D();Z(),j();let{proxy:ge}=S();const u=p(!1);let w=p([]);p(0);const $=p(1),R=p(36);c.query.page&&($.value=parseInt(c.query.page)),c.query.pagesize&&(R.value=parseInt(c.query.pagesize));const v=a=>{W({}).then(d=>{let x=d||[];w.value=x})};v(),p([]);const V=async a=>{var e;C({}),a&&C(a),(e=k.value)==null||e.clearValidate(),u.value=!0},C=a=>{t.id=a.id||0,t.name=a.name||"",t.note=a.note||"",t.type=a.type||"LLM",t.base_name=a.base_name||"",t.api_url=a.api_url||"",t.api_key=a.api_key||"",t.max_token=a.max_token?a.max_token:a.max_token===0?0:void 0,t.temprature=a.temprature!==void 0?a.temprature:.5,t.provider=a.provider||"",t.timeout=a.timeout===void 0?void 0:a.timeout},z=a=>{_this.$confirm("此操作将永久删除该模型, 是否继续?").then(e=>{H({id:a}).then(d=>{_this.$message("删除成功"),v()})})},t=E({id:0,name:"",base_name:"",type:"LLM",api_url:"",api_key:"",provider:"",timeout:void 0,temprature:.5}),k=p(),F=async a=>{a&&a.validate(e=>{if(e)X(t).then(d=>{d&&(_this.$message("提交成功"),u.value=!1,v())});else return!1})},M=p(null),q=p({LLM:"文本模型",VLM:"视觉模型"});return(a,e)=>{const d=r("el-button"),x=r("el-popover"),L=r("el-scrollbar"),m=r("el-option"),h=r("el-select"),i=r("el-form-item"),f=r("el-input"),B=r("el-slider"),N=r("el-tooltip"),I=r("el-input-number"),O=r("el-form"),P=r("el-drawer");return b(),g(A,null,[s("div",ee,[e[19]||(e[19]=s("div",{class:"title"},"模型配置",-1)),s("div",le,[o(d,{size:"small",type:"primary",onClick:e[0]||(e[0]=l=>V())},{default:n(()=>e[18]||(e[18]=[_("新增")])),_:1})])]),s("div",te,[o(L,{ref_key:"tableRef",ref:M},{default:n(()=>[s("div",oe,[(b(!0),g(A,null,K(T(w),l=>(b(),g("div",{onClick:U=>V(l),class:"item c-pointer"},[o(x,{width:160},{reference:n(()=>e[20]||(e[20]=[s("span",{class:"iconfont icon-gengduo c-cardbtn-icon"},null,-1)])),default:n(()=>[s("div",{onClick:e[1]||(e[1]=Y(()=>{},["stop"])),class:"c-cardbtn-btns"},[s("div",{onClick:U=>V(l),class:"item"},e[21]||(e[21]=[s("span",{class:"name"},"修改",-1)]),8,ne),s("div",{onClick:U=>z(l.id),class:"item"},e[22]||(e[22]=[s("span",{class:"name"},"删除",-1)]),8,se)])]),_:2},1024),s("div",{style:G({color:"#fff",background:l.type=="LLM"?"rgb(100,161,255)":"rgb(152,139,255)"}),class:"top ellipsis"},y(q.value[l.type]),5),s("div",re,y(l.name),1),s("div",ie,[s("span",{title:l.base_name,class:"base_name"},[_(y(l.base_name),1),e[23]||(e[23]=s("br",null,null,-1))],8,pe),l.note?(b(),g("span",{key:0,title:l.note,class:"note"},y(l.note),9,de)):J("",!0)])],8,ae))),256))])]),_:1},512)]),o(P,{modelValue:u.value,"onUpdate:modelValue":e[16]||(e[16]=l=>u.value=l),onClosed:e[17]||(e[17]=l=>u.value=!1),size:"900",title:t.id?"修改大模型":"创建大模型",direction:"rtl"},{default:n(()=>[s("div",ue,[o(L,null,{default:n(()=>[o(O,{ref_key:"ruleFormRef1",ref:k,"label-position":"top",inline:"","label-width":"auto",model:t},{default:n(()=>[o(i,{style:{width:"100%","margin-right":"0"},label:"模型类型",prop:"provider"},{default:n(()=>[o(h,{modelValue:t.type,"onUpdate:modelValue":e[2]||(e[2]=l=>t.type=l),filterable:"",placeholder:"请选择"},{default:n(()=>[o(m,{value:"LLM",label:"文本模型"}),o(m,{value:"VLM",label:"视觉模型"})]),_:1},8,["modelValue"])]),_:1}),o(i,{style:{width:"calc(50% - 8px)","margin-right":"16px"},label:"自定义名称",rules:{trigger:"blur",required:!0,message:"请输入自定义的大模型名称"},prop:"name"},{default:n(()=>[o(f,{class:"autofocus inp2",placeholder:"请输入自定义的大模型名称",modelValue:t.name,"onUpdate:modelValue":e[3]||(e[3]=l=>t.name=l),maxlength:"50",autocomplete:"off"},null,8,["modelValue"])]),_:1}),o(i,{style:{width:"calc(50% - 8px)","margin-right":"0px"},label:"基础模型",prop:"base_name"},{default:n(()=>[o(f,{placeholder:"要使用基础模型的名称",modelValue:t.base_name,"onUpdate:modelValue":e[4]||(e[4]=l=>t.base_name=l),autocomplete:"off"},null,8,["modelValue"])]),_:1}),o(i,{style:{width:"100%","margin-right":"0"},label:"API接口地址",prop:"api_url"},{default:n(()=>[o(f,{placeholder:"输入服务器API URL地址",modelValue:t.api_url,"onUpdate:modelValue":e[5]||(e[5]=l=>t.api_url=l),autocomplete:"off"},null,8,["modelValue"])]),_:1}),o(i,{style:{width:"100%","margin-right":"0"},label:"APIKEY",prop:"api_key"},{default:n(()=>[o(f,{type:"password","show-password":"",placeholder:"请输入APIKEY",modelValue:t.api_key,"onUpdate:modelValue":e[6]||(e[6]=l=>t.api_key=l),autocomplete:"off"},null,8,["modelValue"])]),_:1}),o(i,{style:{width:"calc(50% - 8px)","margin-right":"16px"},label:"模型接口格式",prop:"provider"},{default:n(()=>[o(h,{modelValue:t.provider,"onUpdate:modelValue":e[7]||(e[7]=l=>t.provider=l),filterable:"",placeholder:"请选择"},{default:n(()=>[o(m,{value:"OpenAI",label:"OpenAI"}),o(m,{value:"ZhipuAI",label:"ZhipuAI"}),o(m,{value:"Ollama",label:"Ollama"})]),_:1},8,["modelValue"])]),_:1}),o(i,{style:{width:"calc(50% - 8px)","margin-right":"0px"},label:"温度",prop:"temprature"},{default:n(()=>[o(B,{style:{width:"calc(100% - 10px)"},modelValue:t.temprature,"onUpdate:modelValue":e[8]||(e[8]=l=>t.temprature=l),step:.1,min:0,max:1},null,8,["modelValue"])]),_:1}),o(i,{style:{width:"calc(50% - 8px)","margin-right":"16px"},prop:"temprature"},{label:n(()=>[e[25]||(e[25]=_(" 最大输出token ")),o(N,{effect:"light","raw-content":"",content:"此处留空的话则为推理框默认值 <span class='c-danger'>(注意:部分框架可能不支持 限制最大输出token)</span>",placement:"right"},{default:n(()=>e[24]||(e[24]=[s("span",{style:{"margin-left":"3px"},class:"iconfont icon-bangzhu c-danger"},null,-1)])),_:1})]),default:n(()=>[o(I,{style:{width:"100%"},onFocus:e[9]||(e[9]=l=>{l.target.select()}),modelValue:t.max_token,"onUpdate:modelValue":e[10]||(e[10]=l=>t.max_token=l),placeholder:"",min:0,precision:0,step:1,controls:!1},null,8,["modelValue"])]),_:1}),o(i,{style:{width:"calc(50% - 8px)","margin-right":"0"},label:"超时时间（秒）",prop:"price"},{default:n(()=>[o(I,{style:{width:"100%"},onFocus:e[11]||(e[11]=l=>{l.target.select()}),controls:!1,min:0,precision:0,placeholder:"请输入超时时间",modelValue:t.timeout,"onUpdate:modelValue":e[12]||(e[12]=l=>t.timeout=l)},null,8,["modelValue"])]),_:1}),o(i,{style:{width:"100%","margin-right":"0"},prop:"note",label:"备注"},{default:n(()=>[o(f,{modelValue:t.note,"onUpdate:modelValue":e[13]||(e[13]=l=>t.note=l),style:{width:"100%"},rows:5,type:"textarea",placeholder:"请填写备注"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1})]),s("div",me,[o(d,{type:"primary",onClick:e[14]||(e[14]=l=>F(k.value))},{default:n(()=>e[26]||(e[26]=[_(" 确认提交 ")])),_:1}),o(d,{onClick:e[15]||(e[15]=l=>u.value=!1),plain:""},{default:n(()=>e[27]||(e[27]=[_("取消")])),_:1})])]),_:1},8,["modelValue","title"])],64)}}},ke=Q(fe,[["__scopeId","data-v-bb5506b9"]]);export{ke as default};
